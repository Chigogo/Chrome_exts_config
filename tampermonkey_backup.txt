{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"解决百度云大文件下载限制","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["http://pan.baidu.com/*","https://pan.baidu.com/*","http://yun.baidu.com/*","https://yun.baidu.com/*","https://eyun.baidu.com/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1484058147367},"enabled":true,"position":1,"file_url":"https://greasyfork.org/scripts/17800-%E8%A7%A3%E5%86%B3%E7%99%BE%E5%BA%A6%E4%BA%91%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E9%99%90%E5%88%B6/code/%E8%A7%A3%E5%86%B3%E7%99%BE%E5%BA%A6%E4%BA%91%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E9%99%90%E5%88%B6.user.js","uuid":"3d782ff5-aa8f-4f01-a1e1-cf349ceefd4e","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDop6PlhrPnmb7luqbkupHlpKfmlofku7bkuIvovb3pmZDliLYKLy8gQG5hbWVzcGFjZSAgICB1bmRlZmluZWQKLy8gQHZlcnNpb24gICAgICAwLjAuNgovLyBAZGVzY3JpcHRpb24gIOS4gOihjOS7o+egge+8jOino+WGs+eZvuW6puS6keWkp+aWh+S7tuS4i+i9vemZkOWItgovLyBAYXV0aG9yICAgICAgIGZ1bmlhbnd1eGluCi8vIEBtYXRjaCAgICAgICAgaHR0cDovL3Bhbi5iYWlkdS5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vcGFuLmJhaWR1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cDovL3l1bi5iYWlkdS5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8veXVuLmJhaWR1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9leXVuLmJhaWR1LmNvbS8qCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQovKiBqc2hpbnQgLVcwOTcgKi8KJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IpLCdwbGF0Zm9ybScse2dldDpmdW5jdGlvbigpe3JldHVybiAnc2JfYmFpZHUnO319KQoKCihmdW5jdGlvbigpewp2YXIgaHJlZj1sb2NhdGlvbi5ocmVmOwovaHR0cDovLnRlc3QoaHJlZik/bG9jYXRpb24uaHJlZj0naHR0cHMnK2hyZWYuc2xpY2UoNCk6MDsKfSgpKTsKCgogICAg"},{"name":"Google: Bypass Result Page Redirect","options":{"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["/^https?://(?:www|encrypted|ipv[46])\\.google\\.[^/]+/(?:$|[#?]|search|webhp|imgres)/"],"orig_matches":["https://news.google.com/*","https://cse.google.com/cse/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]}},"storage":{"data":{},"ts":1484058147369},"enabled":true,"position":2,"file_url":"https://greasyfork.org/scripts/14150-google-%E7%BB%95%E8%BF%87%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C%E7%BD%91%E9%A1%B5%E9%93%BE%E6%8E%A5%E9%87%8D%E5%AE%9A%E5%90%91/code/Google%EF%BC%9A%E7%BB%95%E8%BF%87%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C%E7%BD%91%E9%A1%B5%E9%93%BE%E6%8E%A5%E9%87%8D%E5%AE%9A%E5%90%91.user.js","uuid":"a31952f9-536b-4c35-ac7c-4c6bfe2ed3e7","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWVzcGFjZSAgIFZBX2kKLy8gQHZlcnNpb24gICAgIDcuMS4wLjIwMTcwMjEzCi8vIEBncmFudCAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGluY2x1ZGUgICAgIC9eaHR0cHM/Oi8vKD86d3d3fGVuY3J5cHRlZHxpcHZbNDZdKVwuZ29vZ2xlXC5bXi9dKy8oPzokfFsjP118c2VhcmNofHdlYmhwfGltZ3JlcykvCi8vIEBtYXRjaCAgICAgICBodHRwczovL25ld3MuZ29vZ2xlLmNvbS8qCi8vIEBtYXRjaCAgICAgICBodHRwczovL2NzZS5nb29nbGUuY29tL2NzZS8qCi8vIEBydW4tYXQgICAgICBkb2N1bWVudC1zdGFydAovLyBAbmFtZSAgICAgICAgR29vZ2xlOiBCeXBhc3MgUmVzdWx0IFBhZ2UgUmVkaXJlY3QKLy8gQG5hbWU6emgtQ04gIEdvb2dsZe+8mue7lei/h+aQnOe0oue7k+aenOe9kemhtemTvuaOpemHjeWumuWQkQovLyBAbmFtZTp6aC1UVyAgR29vZ2xl77ya57me6YGO5pCc5bCL57WQ5p6c57ay6aCB6Y+I5o6l6YeN5a6a5ZCRCi8vIEBkZXNjcmlwdGlvbiBBdm9pZCBHb29nbGUgcmVkaXJlY3QgZm9yIHNlYXJjaCByZXN1bHQgcGFnZXMuCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiDku6QgR29vZ2xlIOebtOaOpemTvuaOpeiHs+aQnOe0oue7k+aenOe9kemhte+8jOaXoOmhu+mHjeWumuWQkeOAggovLyBAZGVzY3JpcHRpb246emgtVFcg5LukIEdvb2dsZSDnm7TmjqXpj4jmjqXoh7PmkJzlsIvntZDmnpzntrLpoIHvvIznhKHpoIjph43lrprlkJHjgIIKLy8gPT0vVXNlclNjcmlwdD09Cgp1bnNhZmVXaW5kb3cuRnVuY3Rpb24oKGZ1bmN0aW9uICgpIHsKCnZhciBkZWJ1ZyA9IGZhbHNlOwp2YXIgY291bnQgPSAwOwoKLy8gd2ViIHBhZ2VzOiB1cmw/dXJsPQovLyBjdXN0b20gc2VhcmNoIGVuZ2luZTogdXJsP3E9Ci8vIG1hbHdhcmU6IGludGVyc3RpdGlhbD91cmw9CnZhciByZSA9IC9cYnVybFw/Lio/XGIoPzp1cmx8cSk9KGh0dHBzP1xiW14mI10rKS9pOwp2YXIgcmVzdG9yZSA9IGZ1bmN0aW9uIChsaW5rLCB1cmwpIHsKICB1cmwgPSB1cmwgfHwgbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSB8fCAnJzsKICB2YXIgbWF0Y2hlcyA9IHVybC5tYXRjaChyZSk7CiAgaWYgKG1hdGNoZXMpIHsKICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoZXNbMV0pKTsKICAgIGxpbmsuc2V0QXR0cmlidXRlKCdyZWwnLCAnbm9yZWZlcnJlcicpOwogICAgbGluay5zZXRBdHRyaWJ1dGUoJ3JlZmVycmVycG9saWN5JywgJ25vLXJlZmVycmVyJyk7CiAgfSBlbHNlIGlmICh1cmwpIHsKICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTsKICB9Cn07Cgp2YXIgZmFrZUxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CnZhciBub3JtYWxpemVVcmwgPSBmdW5jdGlvbiAodXJsKSB7CiAgZmFrZUxpbmsuaHJlZiA9IHVybDsKICByZXR1cm4gZmFrZUxpbmsuaHJlZjsKfTsKCnZhciBzZXR0ZXIgPSBmdW5jdGlvbiAodikgewogIHYgPSBTdHJpbmcodik7ICAvLyBpbiBjYXNlIGFuIG9iamVjdCBpcyBwYXNzZWQgYnkgY2xldmVyIEdvb2dsZQogIGRlYnVnICYmIGNvbnNvbGUubG9nKCdzZXQnLCB0aGlzLl94X2lkLCB0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpLCB2KTsKICByZXN0b3JlKHRoaXMsIHYpOwp9Owp2YXIgZ2V0dGVyID0gZnVuY3Rpb24gKCkgewogIGRlYnVnICYmIGNvbnNvbGUubG9nKCdnZXQnLCB0aGlzLl94X2lkLCB0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpKTsKICByZXR1cm4gbm9ybWFsaXplVXJsKHRoaXMuZ2V0QXR0cmlidXRlKCdocmVmJykpOwp9Owp2YXIgYmxvY2tlciA9IGZ1bmN0aW9uIChldmVudCkgewogIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogIHJlc3RvcmUodGhpcyk7CiAgZGVidWcgJiYgY29uc29sZS5sb2coJ2Jsb2NrJywgdGhpcy5feF9pZCwgdGhpcy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSk7Cn07Cgp2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIChhKSB7CiAgaWYgKGEuX3hfaWQpIHsKICAgIHJldHVybjsKICB9CiAgYS5feF9pZCA9ICsrY291bnQ7CiAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgewogICAgZGVidWcgJiYgY29uc29sZS5sb2coJ2RlZmluZSBwcm9wZXJ0eScsIGEuX3hfaWQpOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsICdocmVmJywge2dldDogZ2V0dGVyLCBzZXQ6IHNldHRlcn0pOwogIH0gZWxzZSBpZiAoYS5fX2RlZmluZVNldHRlcl9fKSB7CiAgICBkZWJ1ZyAmJiBjb25zb2xlLmxvZygnZGVmaW5lIGdldHRlcicsIGEuX3hfaWQpOwogICAgYS5fX2RlZmluZVNldHRlcl9fKCdocmVmJywgc2V0dGVyKTsKICAgIGEuX19kZWZpbmVHZXR0ZXJfXygnaHJlZicsIGdldHRlcik7CiAgfSBlbHNlIHsKICAgIGRlYnVnICYmIGNvbnNvbGUubG9nKCdkZWZpbmUgbGlzdGVuZXInLCBhLl94X2lkKTsKICAgIGEub25tb3VzZWVudGVyID0gYS5vbm1vdXNlbW92ZSA9IGEub25tb3VzZXVwID0gYS5vbm1vdXNlZG93biA9CiAgICAgIGEub25kYmNsaWNrID0gYS5vbmNsaWNrID0gYS5vbmNvbnRleHRtZW51ID0gYmxvY2tlcjsKICB9CiAgZGVidWcgJiYgYS5zZXRBdHRyaWJ1dGUoJ3gtaWQnLCBhLl94X2lkKTsKICByZXN0b3JlKGEpOwp9OwoKdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKICBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbaHJlZl0nKSkuZm9yRWFjaChoYW5kbGVyKTsKfTsKCnZhciB0aWQgPSBudWxsOwp2YXIgcHJldiA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7CnZhciBjaGVjayA9IGZ1bmN0aW9uIChtdXRhdGlvbikgewogIHJldHVybiBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCA+IDA7Cn07CnZhciBjaGVja05ld05vZGVzID0gZnVuY3Rpb24gKG11dGF0aW9ucykgewogIG11dGF0aW9ucy5mb3JFYWNoICYmIG11dGF0aW9ucy5mb3JFYWNoKGNoZWNrQXR0cmlidXRlKTsKICB2YXIgbmV4dCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7CiAgaWYgKG5leHQgLSBwcmV2ID4gMTAwMCkgeyAgLy8gRG9uJ3QgbGV0IG1lIHdhaXQgdG9vIGxvbmcuCiAgICBwcmV2ID0gbmV4dDsKICAgIGNsZWFyVGltZW91dCh0aWQpOwogICAgdXBkYXRlKCk7ICAvLyBUaHJvdHRsZSBpcyB3aGF0PwogIH0gZWxzZSBpZiAoIW11dGF0aW9ucy5zb21lIHx8IG11dGF0aW9ucy5zb21lKGNoZWNrKSkgewogICAgY2xlYXJUaW1lb3V0KHRpZCk7CiAgICB0aWQgPSBzZXRUaW1lb3V0KHVwZGF0ZSwgMjAwKTsKICB9Cn07CnZhciBjaGVja0F0dHJpYnV0ZSA9IGZ1bmN0aW9uIChtdXRhdGlvbikgewogIHZhciB0YXJnZXQgPSBtdXRhdGlvbi50YXJnZXQ7CiAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0EnICYmCiAgICAgIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lIHx8IG11dGF0aW9uLmF0dHJOYW1lKSA9PT0gJ2hyZWYnICYmCiAgICAgIHJlLnRlc3QodGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpKSkgewogICAgZGVidWcgJiYgY29uc29sZS5sb2coJ3Jlc3RvcmUgYXR0cmlidXRlJywgdGFyZ2V0Ll94X2lkLCB0YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJykpOwogICAgcmVzdG9yZSh0YXJnZXQpOwogIH0KfTsKCnZhciBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7CgppZiAoTXV0YXRpb25PYnNlcnZlcikgewogIGRlYnVnICYmIGNvbnNvbGUubG9nKCdNdXRhdGlvbk9ic2VydmVyOiB0cnVlJyk7CiAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2hlY2tOZXdOb2Rlcykub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHsKICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgIGF0dHJpYnV0ZXM6IHRydWUsCiAgICBhdHRyaWJ1dGVGaWx0ZXI6IFsnaHJlZiddLAogICAgc3VidHJlZTogdHJ1ZQogIH0pOwp9IGVsc2UgewogIGRlYnVnICYmIGNvbnNvbGUubG9nKCdNdXRhdGlvbkV2ZW50OiB0cnVlJyk7CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQXR0ck1vZGlmaWVkJywgY2hlY2tBdHRyaWJ1dGUsIGZhbHNlKTsKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Ob2RlSW5zZXJ0ZWQnLCBjaGVja05ld05vZGVzLCBmYWxzZSk7Cn0KCn0pLnRvU3RyaW5nKCkubWF0Y2goL3soW1xzXFNdKil9LylbMV0pLmNhbGwodW5zYWZlV2luZG93KTs="},{"name":"百度云插件+APIKey","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/https?\\:\\/\\/(pan|yun)\\.baidu\\.com.*/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":["googleapis.com"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1484058147371},"enabled":true,"position":3,"file_url":"https://greasyfork.org/scripts/496-%E7%99%BE%E5%BA%A6%E4%BA%91%E6%8F%92%E4%BB%B6-apikey/code/%E7%99%BE%E5%BA%A6%E4%BA%91%E6%8F%92%E4%BB%B6+APIKey.user.js","uuid":"6690c28b-8506-4bc5-8611-76c164755bf7","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAg55m+5bqm5LqR5o+S5Lu2K0FQSUtleQovLyBAbmFtZXNwYWNlICAKLy8gQHZlcnNpb24gICAgNS4wLjIuMQovLyBAZGVzY3JpcHRpb24gIOWcqOeZvuW6puS6kee9keebmOeahOmhtemdoua3u+WKoOS4gOS4quaQnOe0ouahhu+8jOiwg+eUqOaQnOe0okFQSeaQnOe0ouaJgOacieWFrOW8gOWIhuS6q+aWh+S7ti8vIFRvIGFkZCBhIHNlYXJjaCBmcmFtZSB0aGF0IGNhbGxzIHNvbWUgYXBpIGZvciBzZWFyY2hpbmcgc29tZSBwdWJsaWMgc2hhcmVkIGZpbGVzIGluIEJhaWR1WXVuIGNsb3VkIG5ldGRpc2suIAovLyBAZGVzY3JpcHRpb24gIEZvciBtb3JlIGltZm9ybWF0aW9uLHBsZWFzZSBlbWFpbCBtZSBhdCB3YW5naHNpbmNoZUBob3RtYWlsLmNvbS4gCi8vIEBpbmNsdWRlICAgICAgIC9odHRwcz9cOlwvXC8ocGFufHl1bilcLmJhaWR1XC5jb20uKi8KLy8gQGdyYW50ICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBydW4tYXQgZG9jdW1lbnQtZW5kCi8vIEBjb3B5cmlnaHQgIDIwMTQsMDQsMjAgX19CeSBXYW5nIEhzaW4tY2hlICAgCi8vID09L1VzZXJTY3JpcHQ9PQoKLyp0aGFua3MgdG8gdGhlIHR1dG9yaWFsIG9mIG12YyAgYXQgCmh0dHBzOi8vYWxleGF0bmV0LmNvbS9hcnRpY2xlcy9tb2RlbC12aWV3LWNvbnRyb2xsZXItbXZjLWphdmFzY3JpcHQqLwoKCi8vRXZlbnQgaXMgYSBzaW1wbGUgY2xhc3MgZm9yIGltcGxlbWVudGluZyB0aGUgT2JzZXJ2ZXIgcGF0dGVybjoKZnVuY3Rpb24gRXZlbnQoc2VuZGVyKSB7CiAgICB0aGlzLl9zZW5kZXIgPSBzZW5kZXI7CiAgICB0aGlzLl9saXN0ZW5lcnMgPSBbXTsKfQoKRXZlbnQucHJvdG90eXBlID0gewogICAgYXR0YWNoIDogZnVuY3Rpb24gKGxpc3RlbmVyKSB7Ly9wdXNoIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpbnRvIF9saXN0ZW5lcnNbXTsKICAgICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7CiAgICB9LAogICAgbm90aWZ5IDogZnVuY3Rpb24gKGFyZ3MpIHsvL3BvcCBhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9ucyBhbmQgZXhlY3V0ZSB0aGUgZnVuY3Rpb25zIHdpdGggc2FtZSBhcmdzPwogICAgICAgIHZhciBpbmRleDsKCiAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5fbGlzdGVuZXJzLmxlbmd0aDsgaW5kZXggKz0gMSkgewogICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnNbaW5kZXhdKHRoaXMuX3NlbmRlciwgYXJncyk7Ly9hdXRvIHBhc3Mgc2VuZGVyIGFuZCBhcmdzIGludG8gY2FsbGJhY2sgZnVuY3Rpb24sIHNvIHRoZSBkZWZhdWx0IGZvcm0gb2YgY2FsbGJhY2sgZnVuY3Rpb24gaXMgZnVuY3Rpb24oc2VuZGVyLGFyZ3Mpe30KICAgICAgICB9CiAgICB9Cn07CgovL0phdmFzY3JpcHQtdGVtcGxhdGUtZW5naW5lLWluLWp1c3QtMjAtbGluZQovL2J5IGJ5IEtyYXNpbWlyIGh0dHA6Ly9rcmFzaW1pcnRzb25ldi5jb20vYmxvZy9hcnRpY2xlL0phdmFzY3JpcHQtdGVtcGxhdGUtZW5naW5lLWluLWp1c3QtMjAtbGluZQp2YXIgVGVtcGxhdGVFbmdpbmUgPSBmdW5jdGlvbihodG1sLCBvcHRpb25zKSB7CiAgICB2YXIgcmUgPSAvPCUoW14lPl0rKT8lPi9nLCByZUV4cCA9IC8oXiggKT8oaWZ8Zm9yfGVsc2V8c3dpdGNofGNhc2V8YnJlYWt8e3x9KSkoLiopPy9nLCBjb2RlID0gJ3ZhciByPVtdO1xuJywgY3Vyc29yID0gMCwgbWF0Y2g7CiAgICB2YXIgYWRkID0gZnVuY3Rpb24obGluZSwganMpIHsKICAgICAgICBqcz8gKGNvZGUgKz0gbGluZS5tYXRjaChyZUV4cCkgPyBsaW5lICsgJ1xuJyA6ICdyLnB1c2goJyArIGxpbmUgKyAnKTtcbicpIDoKICAgICAgICAgICAgKGNvZGUgKz0gbGluZSAhPSAnJyA/ICdyLnB1c2goIicgKyBsaW5lLnJlcGxhY2UoLyIvZywgJ1xcIicpICsgJyIpO1xuJyA6ICcnKTsKICAgICAgICByZXR1cm4gYWRkOwogICAgfTsKICAgIHdoaWxlKG1hdGNoID0gcmUuZXhlYyhodG1sKSkgewogICAgICAgIGFkZChodG1sLnNsaWNlKGN1cnNvciwgbWF0Y2guaW5kZXgpKShtYXRjaFsxXSwgdHJ1ZSk7CiAgICAgICAgY3Vyc29yID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICB9CiAgICBhZGQoaHRtbC5zdWJzdHIoY3Vyc29yLCBodG1sLmxlbmd0aCAtIGN1cnNvcikpOwogICAgY29kZSArPSAncmV0dXJuIHIuam9pbigiIik7JzsKICAgIHJldHVybiBuZXcgRnVuY3Rpb24oY29kZS5yZXBsYWNlKC9bXHJcdFxuXS9nLCAnJykpLmFwcGx5KG9wdGlvbnMpOwp9OwoKLyoqCiAqIFRoZSBNb2RlbC4gTW9kZWwgc3RvcmVzIGl0ZW1zIGFuZCBub3RpZmllcwogKiBvYnNlcnZlcnMgYWJvdXQgY2hhbmdlcy4KICovCgogdmFyIEJhc2VNb2RlbD1mdW5jdGlvbihlbmdpbmVMc3QpewogICAgdGhpcy5rZXl3b3JkPSIiOwogICAgdGhpcy5lbmdpbmU9ImRlZmF1bHQiOwogICAgdGhpcy5lbmdpbmVMc3Q9ZW5naW5lTHN0OwogICAgdGhpcy5qc29uT2JqPXsgCiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiB7IAogICAgICAgICAgICAgICAgICAgICAgICBlc3RpbWF0ZWRSZXN1bHRDb3VudDogMCwgCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdENvdW50OiAwIH0sIAogICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdCiAgICAgICAgICAgICAgICB9OwogICAgdGhpcy5jdXJyPTE7CiAgICB0aGlzLnRvdGFsUGFnZT0xOwogICAgdGhpcy51cmxzPXtkZWZhdWx0OidodHRwOi8vJyx9OwogICAgdGhpcy5zdGF0ZT1mYWxzZTsKICAgIHRoaXMuY29udGVudFVwZGF0ZWQ9bmV3IEV2ZW50KHRoaXMpOwogICAgdGhpcy5yZXF1ZXN0RXZlbnQ9bmV3IEV2ZW50KHRoaXMpOwogfTsKIEJhc2VNb2RlbC5wcm90b3R5cGU9ewogICAgc2V0RW5naW5lOmZ1bmN0aW9uKGVuZ2luZSl7CiAgICAJdmFyIHRlbXBPYmogPSB7fTsKICAgICAgICB0aGlzLmVuZ2luZT1lbmdpbmU7CiAgICAgICAgdGVtcE9ialsnZW5naW5lJ10gPSBlbmdpbmU7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd3eHpZdW5wYW5TZWFyY2hlcicsSlNPTi5zdHJpbmdpZnkodGVtcE9iaikpOwogICAgICAgIHRlbXBPYmogPSBudWxsOwogICAgfSwKICAgIHVwZGF0ZUN1cnI6ZnVuY3Rpb24oY3Vycil7CiAgICAgICAgdGhpcy5jdXJyPWN1cnI7CiAgICB9LAogICAgdXBkYXRlS2V5d29yZDpmdW5jdGlvbihrZXl3b3JkKXsKICAgICAgICB0aGlzLmtleXdvcmQ9a2V5d29yZDsKICAgIH0sCiAgICByZXF1ZXN0OmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy5yZXF1ZXN0RXZlbnQubm90aWZ5KCk7CiAgICAgICAgdmFyIF90aGlzPXRoaXM7CiAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBfdGhpcy5jb21waWxlVXJsW190aGlzLmVuZ2luZV0oX3RoaXMpLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAiLCAvLyBJZiBub3Qgc3BlY2lmaWVkLCBuYXZpZ2F0b3IudXNlckFnZW50IHdpbGwgYmUgdXNlZC4KICAgICAgICAgICAgICAgICAgICAgICAgIkFjY2VwdCI6ICJ0ZXh0L3htbCIgLy8gSWYgbm90IHNwZWNpZmllZCwgYnJvd3NlciBkZWZhdWx0cyB3aWxsIGJlIHVzZWQuCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmpzb25PYmo9X3RoaXMudG9Kc29uW190aGlzLmVuZ2luZV0ocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudG90YWxQYWdlPShwYXJzZUludChfdGhpcy5qc29uT2JqLmN1cnNvci5yZXN1bHRDb3VudCktcGFyc2VJbnQoX3RoaXMuanNvbk9iai5jdXJzb3IucmVzdWx0Q291bnQpJTEwKS8xMCsxOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZT10cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3NlbGY9X3RoaXM7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbnRlbnRVcGRhdGVkLm5vdGlmeShfc2VsZi5zdGF0ZSk7ICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmpzb25PYmo9eyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzdGltYXRlZFJlc3VsdENvdW50OiAwLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Q291bnQ6IDAgfSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsUGFnZT0xOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZT1mYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9zZWxmPV90aGlzOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb250ZW50VXBkYXRlZC5ub3RpZnkoX3NlbGYuc3RhdGUpOyAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICB9LAogICAgZGVzdG9yeTpmdW5jdGlvbigpewogICAgICAgIHRoaXMuanNvbk9iaj17fTsKICAgICAgICB0aGlzLnRvdGFsUGFnZT0wOwogICAgICAgIHRoaXMuc3RhdGU9ZmFsc2U7IAogICAgICAgIHRoaXMuY3Vycj0wOwogICAgICAgIHRoaXMua2V5d29yZD0iIjsKICAgIH0sCiAgICB0b0pzb246ewogICAgICAgIGRlZmF1bHQ6ZnVuY3Rpb24odGV4dCl7CiAgICAgICAgICAgIHZhciBqc29uT2JqID0geyAKICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHsgCiAgICAgICAgICAgICAgICAgICAgICAgIGVzdGltYXRlZFJlc3VsdENvdW50OiAwLCAKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Q291bnQ6IDAgfSwgCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICByZXR1cm4ganNvbk9iajsKICAgICAgICB9LAogICAgfSwKICAgIGNvbXBpbGVVcmw6ewogICAgICAgIGRlZmF1bHQ6ZnVuY3Rpb24oX3RoaXMpewogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVybCArIF90aGlzLmtleXdvcmQgKyAnK3NpdGUlM0FwYW4uYmFpZHUuY29tJyArICcmZmlyc3Q9JyArIF90aGlzLmN1cnI7CiAgICAgICAgICAgIH0sICAgICAgICAKICAgIH0sCiB9OwoKIHZhciBWaWV3ZXI9ZnVuY3Rpb24obW9kZWwsVUllbGVtZW50cyl7CiAgICB0aGlzLm1vZGVsPW1vZGVsOwogICAgdGhpcy5VST1VSWVsZW1lbnRzOwogICAgdGhpcy5zZWFyY2hDbGljaz1uZXcgRXZlbnQodGhpcyk7CiAgICB0aGlzLmNsb3NlQ2xpY2s9bmV3IEV2ZW50KHRoaXMpOwogICAgdGhpcy5uZXh0Q2xpY2s9bmV3IEV2ZW50KHRoaXMpOwogICAgdGhpcy5wcmVDbGljaz1uZXcgRXZlbnQodGhpcyk7CiAgICB0aGlzLnRvUGFnZUNsaWNrPW5ldyBFdmVudCh0aGlzKTsKICAgIHRoaXMuZW5naW5lT3B0Q2hhbmdlPW5ldyBFdmVudCh0aGlzKTsKICAgIHZhciBib2R5Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTsKICAgIHZhciBfc2VsZj10aGlzOwogICAgdGhpcy5VSS5zZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgLyogQWN0IG9uIHRoZSBldmVudCAqLwogICAgICAgIHZhciBjdXJyPTE7CiAgICAgICAgdmFyIGtleXdvcmQ9X3NlbGYuVUkuaW5wdXRFbGUudmFsdWU7CiAgICAgICAgaWYoa2V5d29yZC5yZXBsYWNlKC9ccyovLCcnKSE9PScnKXsKICAgICAgICAgICAgX3NlbGYuc2VhcmNoQ2xpY2subm90aWZ5KHtjdXJyOmN1cnIsa2V5d29yZDprZXl3b3JkfSk7CiAgICAgICAgfQogICAgfSk7CiAgICB0aGlzLlVJLmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbihldmVudCkgewogICAgICAgIC8qIEFjdCBvbiB0aGUgZXZlbnQgKi8KICAgICAgICBfc2VsZi5jbG9zZUNsaWNrLm5vdGlmeSgpOwogICAgfSk7CiAgICAvLyB0aGlzLlVJLmlucHV0RWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJyxmdW5jdGlvbihldmVudCkgewogICAgLy8gICAgICAgICB2YXIgY2xpY2tFdmVudCA9IG5ldyBNb3VzZUV2ZW50KCJjbGljayIpOyAgICAgICAgICAgIAogICAgLy8gICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT0gMTMpIHsKICAgIC8vICAgICAgICAgICAgIF9zZWxmLlVJLnNlYXJjaEJ0bi5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQpOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICAgIGNsaWNrRXZlbnQgPSBudWxsOwogICAgLy8gICAgIH0pOwogICAgYm9keU5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKF9zZWxmLlVJLmVuZ2luZUJ0bkNsYXNzTmFtZSkgIT09IC0xICkgewogICAgICAgICAgICBfc2VsZi5lbmdpbmVPcHRDaGFuZ2Uubm90aWZ5KGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZW5naW5lJykpOyAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKF9zZWxmLlVJLnRvUGFnZUJ0bkNsYXNzTmFtZSkgIT09IC0xICkgewogICAgICAgICAgICBfc2VsZi50b1BhZ2VDbGljay5ub3RpZnkocGFyc2VJbnQoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wYWdlJyksMTApKTsKICAgICAgICB9CiAgICB9KTsKICAgICAgICAgICAgICAgICAgCiB9OwogVmlld2VyLnByb3RvdHlwZT17CiAgICByZWZsZXNoRW5naW5lTHN0OmZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIHRlbXBsYXRlPSc8JWZvcih2YXIgaSBpbiB0aGlzKXslPicrCiAgICAgICAgICAgICAgICAgICAgJzxsaSBub2RlLXR5cGU9ImNsaWNrLWVsZSIgZGF0YS1lbmdpbmU9IjwldGhpc1tpXSU+IiBjbGFzcz0ibGkgd3h6LW1lbnUtb3B0aW9uIj4nKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J5IDwldGhpc1tpXSU+JysKICAgICAgICAgICAgICAgICAgICAnPC9saT4nKwogICAgICAgICAgICAgICAgICAgICc8JX0lPic7CiAgICAgICAgdmFyIGh0bWw9VGVtcGxhdGVFbmdpbmUodGVtcGxhdGUsdGhpcy5tb2RlbC5lbmdpbmVMc3QpOwogICAgICAgIHRoaXMuVUkuZW5naW5lTHN0LmlubmVySFRNTCA9IGh0bWw7CiAgICB9LAogICAgdXBkYXRlRW5naW5lOmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy5VSS5tZW51LnRleHRDb250ZW50ID0gdGhpcy5tb2RlbC5lbmdpbmU7CiAgICB9LAogICAgc2hvdzpmdW5jdGlvbigpewogICAgICAgIHRoaXMuVUkubXlEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgdGhpcy5VSS5iZ05vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgdGhpcy5VSS5teURpdi5zdHlsZS50b3AgPSAnNTAlJzsKICAgICAgICB0aGlzLlVJLm15RGl2LnN0eWxlLm1hcmdpblRvcCA9ICh0aGlzLlVJLm15RGl2LmNsaWVudEhlaWdodCAvIDIgKiAtMSkgKyAncHgnOyAgICAKICAgIH0sCiAgICByZWZsZXNoOmZ1bmN0aW9uKHN1Y2Nlc3MpewogICAgICAgIHZhciB0ZW1wbGF0ZT0iPHAgYWxpZ249J3JpZ2h0Jz4tLS0tIGJ5IDwldGhpcy5lbmdpbmUlPi5jb20gU2VhcmNoIDwvcD48cCB3aGl0ZS1zcGFjZT0nbm9ybWFsJyBjbGFzcz0ndGVtcCcgPmtleXdvcmQgaXMgICAgJzwldGhpcy5rZXl3b3JkJT4nICAgIGZvdW5kICAnPCV0aGlzLmpzb25PYmouY3Vyc29yLnJlc3VsdENvdW50JT4nICBSZXN1bHRzPC9wPjxwPi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPHA+IjsKICAgICAgICAKICAgICAgICB0ZW1wbGF0ZSs9JzwlZm9yKHZhciBpIGluIHRoaXMuanNvbk9iai5yZXN1bHRzKXslPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAnPHA+PHAgY2xhc3M9Im15VGl0bGUiPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGEgaHJlZj0iPCV0aGlzLmpzb25PYmoucmVzdWx0c1tpXS51bmVzY2FwZWRVcmwlPiJ0YXJnZXQ9Il9ibGFuayI+PCV0aGlzLmpzb25PYmoucmVzdWx0c1tpXS50aXRsZU5vRm9ybWF0dGluZyU+PC9hPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAnPC9wPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAnPHAgY2xhc3M9Im15U25pcHBldCI+PCV0aGlzLmpzb25PYmoucmVzdWx0c1tpXS5jb250ZW50Tm9Gb3JtYXR0aW5nJT48L3A+JysKICAgICAgICAgICAgICAgICc8JX0lPic7CiAgICAgICAgdGVtcGxhdGUrPSc8cD48cD4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPHAgY2xhc3M9InRlbXAiIG1hcmdpbi1sZWZ0PSIyMHB4Ij4iIDwldGhpcy5qc29uT2JqLnJlc3VsdHMubGVuZ3RoJT4gIiAgaXRlbXMgaGF2ZSBiZWVuIGxvYWQgPC9wPic7CiAgICAgICAgdmFyIGh0bWw7CiAgICAgICAgaWYoc3VjY2Vzcz09PWZhbHNlKXsKICAgICAgICAgICAgaHRtbD0nPGRpdiBjbGFzcz0ibG9hZGluZy10aXBzIiBhbGlnbj0iY2VudGVyIj7lh7rplJnkuoYuLi4uLi48L2Rpdj4nOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBpZih0aGlzLm1vZGVsLmpzb25PYmoucmVzdWx0cy5sZW5ndGg9PT0wKXsKICAgICAgICAgICAgICAgIGh0bWw9JzxkaXYgY2xhc3M9ImxvYWRpbmctdGlwcyIgYWxpZ249ImNlbnRlciI+5peg5pCc57Si57uT5p6cLi4u5o2i5Liq5YWz6ZSu6K+N6YeN5paw6K+V6K+V77yfPC9kaXY+JzsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBodG1sPVRlbXBsYXRlRW5naW5lKHRlbXBsYXRlLHRoaXMubW9kZWwpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLlVJLm15Q29udGVudC5pbm5lckhUTUwgPSBodG1sOwogICAgfSwKICAgIGNsb3NlOmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy5VSS5teURpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIHRoaXMuVUkuYmdOb2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgdGhpcy5VSS5pbnB1dEVsZS52YWx1ZSA9ICcnOwogICAgfSwKICAgIGxvYWRpbmc6ZnVuY3Rpb24oKXsKICAgICAgICB0aGlzLlVJLm15Q29udGVudC5pbm5lckhUTUwgPSAnPGltZyAgd2lkdGg9IjYwMHB4IiBzcmM9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEpnSnVBY1FRQVArS0FDRk1kbHg4bTVlcnY4VFAyakJZZjlQYjVFMXdrYWEzeUxYRDBUOWtpSW1ndG11SXBIcVVyZkR6OXYvLy93QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ0gvQzA1RlZGTkRRVkJGTWk0d0F3RUFBQUFoK1FRRk1nQVFBQ3dBQUFBQUpnSnVBUUFGLytBamptUnBubWlxcm16cnZuQXN6M1J0MzNpdTczenYvOENnY0Vnc0dvL0lwSExKYkRxZjBLaDBTcTFhcjlpc2RzdnRlci9nc0hoTUxwdlA2TFI2elc2NzMvQzRmRTZ2MisvNHZIN1A3L3YvZ0lHQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa3BPVWxaYVhtSm1hbTV5ZG5wK2dvYUtqcEtXbXA2aXBxcXVzcmE2dnNMR3lzN1MxdHJlNHVicTd2TDIrdjhEQndzUEV4Y2JIeU1uS3k4ek56cy9RMGRMVDFOWFcxOWpaMnR2YzNkN2Y0T0hpNCtUbDV1Zm82ZXJyN08zdTcvRHg4dlAwOWZiMytQbjYrL3o5L3Y4QUF3b2NTTENnd1lNSUV5cGN5TENodzRjUUkwcWNTTEdpeFlzWU0ycmN5TEdqeDQ4Z1E0b2NTYktreVpNb1UvK3FYTW15cGN1WE1HUEtuRW16cHMyYk9IUHEzTW16cDgrZlFJTUtIVXEwcU5HalNKTXFYY3EwcWRPblVLTktuVXExcXRXcldMTnEzY3ExcTlldllNT0tIVXUyck5temFOT3FYY3UycmR1M2NPUEtuVXUzcnQyN2VQUHEzY3UzcjkrL2dBTUxIa3k0c09IRGlCTXJYc3k0c2VQSGtDTkxua3k1c3VYTG1ETnIzc3k1cytmUG9FT0xIazI2dE9uVHFGT3JYczI2dGV2WHNHUExuazI3dHUzYnVIUHIzczI3dCsvZndJTUxIMDY4dUhFckJnZ1FDS1A4T0JJQkFRU3dHRkFnZ1BVQURBeWtPQkNnQUlvQjE2OGZHR0FDdXZRUjBBTm9SeC9kQkFJRjRSVWtjRTdFL0FydTRhMFhXRzdDd0hVRUo0Q1huM1VIbEdBZmV3RVV5TjcvZVNNME1LQjFBTklYeElIZldaZmRBdzRnVUoxM0ppeHdIWU1rQ0tnY0FRaWt0d0FKRkQ2UVhnRGtpWkNpZ0FLc3A2RjFFazdZWGdyVmdmZ0FBZGExU0VKMStBVklJd2tNRE9uaWpVZnF0K0NQU0lxQWdIWHoxZWhEaWlYd0dFQ1VKSENuWXdMV0dWRGRpU1VJV0lKL1Z5N0pYblhZSGNtZ2xWaU9zSjZVVXpZWnBwRWgwdmxBa1FWNnFJQUpZcGJRbzVscWVoakFjaFQyQ1djUlZOWVpnSkNMa3ZBbm1XMCtZT2dJZjZxSlludlY3VmtvbmZuNWVHZ09pWTR3cWFoMENvaUFjdFUxTUdlampySUlxSXJ0UGNuaXBxdyswT21uTzRRcUFwZGxsc0NkZ2lMZ04rQ3FZMEw1Nm9IcHdiZW1zU0tNV0NtdU9PZ3FRbzVWUGt2bS80TVJpakNxZzdXbVNHRjRJQUpwd3JQUTJnRGRBU09PcUdpTUdGTFhIUW1DK3BxZ29pTW13QzJZbGdJcVlKTXdycGRBZXA0TzRDa0JBcE9Bd0FEWmxndnJnNTZ1R0Y0QmJWYkhRQW15dnJsdmZzRG1xL0VEOE1uSjdZQUZ2R2tsZjVMU0tTMmNEb2ZucWFRZFcvam1BN3dtTElKMStGNU00TXF3Z3BpaWxUbys4RjU4SzQ5TWFyZHlLdnhDY2lSNzBaelJURGZ0OU5OUVJ5MzExRlJYYmZYVldHZXQ5ZFpjZCszMTEyQ0hMWFl6QUpSdDl0bG1xNEQyMm1XcnpUYmFicitkZGdweW54MTMzWGZMbmZmYm1OVTlOd3ArdDAxMzRIdXpYZmphaDhNOXVOK0oyMzFaNEFDNFBiamtnRWMrZWVXVW55QTQ1cHgzYnNMbW1sc2Vldi9maEY4K3V1bWZpMzc2NnF5WEFIcnFxTVB1dWV5dFR3WjU1clRYUHNMcnJxdmVPKzYveDA0Qzc4UDdYanp3eHo5ZSt1ekpNNys3OGMzbkxuMzAweitQdlBYQ1kyL1o3ZG1MUUx6MjFZTWZ2UFBlUXk4KzllT0hYMzcza0hGUC9nUGZyLzgrL09iVGY3Mzg3OGR2Ly96eDYrK1krN3JEWHdEM2w3LzZFVkI5QjB5Zit2VFhQd1ArYjNtaFk5emk4RFpCdlZXUWJ4YzBYQVlSdDBIRmJRK0NxWk5nNVVRWVFRcU8wSVFsdE9BSlZaaENESTd0aFRDTW9ReG5TTU1hMnZDR09NeWhEbmZJd3g3NjhJZEFES0lRaDBqRUlocnhpRWhNb2hLWHlNUW1PdkdKVUl5aUZLZEl4U3BhOFlwWXpLSVd0OGpGTG5yeGkyQU1veGpIU01hV01wcnhqR2hNb3hyWHlNWTJ1dkdOY0l5akhPZEl4enJhOFk1NHpLTWU5OGpIUHZyeGo0QU1wQ0FIU2NoQ0d2S1FpRXlrSWhmSnlFWTY4cEdRaktRa0owbkpTbHJ5a3BqTXBDWTN5Y2xPZXZLVG9BeWxLRWRKeWxLYThwU29US1VxVjhuS1ZycnlsYkNNcFN4blNjdGEydktXdU15bExuZkp5MTc2OHBmQURLWXdoMG5NWWhyem1NaE1waktYeWN4bU92T1phQWdCQUNINUJBVXlBQkFBTE5nQXhnQUpBQWNBQUFVS0lDQ09aR21lYUtxaUlRQWgrUVFGTWdBUUFDenZBTVlBQ1FBSEFBQUZDaUFnam1ScG5taXFvaUVBSWZrRUJUSUFFQUFzQmdIR0FBa0FCd0FBQlFvZ0lJNWthWjVvcXFJaEFDSDVCQVV5QUJBQUxCMEJ4Z0FKQUFjQUFBVUtJQ0NPWkdtZWFLcWlJUUFoK1FRRk1nQVFBQ3cwQWNZQUNRQUhBQUFGQ2lBZ2ptUnBubWlxb2lFQUlma0VCVElBRUFBc1N3SEdBQWtBQndBQUJRb2dJSTVrYVo1b3FxSWhBQ0g1QkFVeUFCQUFMR0lCeGdBSkFBY0FBQVVLSUNDT1pHbWVhS3FpSVFBNyIgLz4nOwogICAgfSwKICAgIHJlZmxlc2hQYWdlTmF2aTpmdW5jdGlvbigpewogICAgICAgIHZhciBwYWdlPXtjdXJyOjEsdG90YWxQYWdlOjEscHJlOnRydWUsbmV4dDp0cnVlLGxzdDpbXX07CiAgICAgICAgcGFnZS5jdXJyPXRoaXMubW9kZWwuY3VycjsKICAgICAgICBwYWdlLnRvdGFsUGFnZT10aGlzLm1vZGVsLnRvdGFsUGFnZT49MTA/MTA6dGhpcy5tb2RlbC50b3RhbFBhZ2U7CiAgICAgICAgcGFnZS5wcmU9cGFnZS5jdXJyPjE/dHJ1ZTpmYWxzZTsKICAgICAgICBwYWdlLm5leHQ9cGFnZS50b3RhbFBhZ2U+cGFnZS5jdXJyP3RydWU6ZmFsc2U7CiAgICAgICAgZm9yKHZhciBpPTE7aTw9cGFnZS50b3RhbFBhZ2U7aSsrKXsKICAgICAgICAgICAgcGFnZS5sc3QucHVzaChpKTsKICAgICAgICB9CiAgICAgICAgdmFyIHRlbXBsYXRlPSAnXAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGFnZXNlICJpZD0id3h6LXBhZ2VzZSI+XAogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InBhZ2UtY29udGVudCI+XAogICAgICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iIDwlIGlmKHRoaXMucHJlKXsgJT4gcGFnZS1udW1iZXIgPCV9ZWxzZXslPiBnbG9iYWwtZGlzYWJsZWQgPCV9JT4gbW91LWV2dCIgZGF0YS1wYWdlPSI8JXRoaXMuY3Vyci0xJT4iPuS4iuS4gOmhtTwvYT5cCiAgICAgICAgICAgICAgICA8JWZvcih2YXIgaSBpbiB0aGlzLmxzdCl7JT5cCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InBhZ2UtbnVtYmVyIDwlaWYodGhpcy5sc3RbaV09PXRoaXMuY3Vycil7JT4gZ2xvYmFsLWRpc2FibGVkIDwlfSU+IiBkYXRhLXBhZ2U9IjwldGhpcy5sc3RbaV0lPiI+PCV0aGlzLmxzdFtpXSU+PC9zcGFuPlwKICAgICAgICAgICAgICAgIDwlfSU+XAogICAgICAgICAgICAgICAgPC9zcGFuPlwKICAgICAgICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9IiA8JSBpZih0aGlzLm5leHQpeyAlPiBwYWdlLW51bWJlciA8JX1lbHNleyU+IGdsb2JhbC1kaXNhYmxlZCA8JX0lPiBtb3UtZXZ0IiBkYXRhLXBhZ2U9IjwldGhpcy5jdXJyKzElPiI+5LiL5LiA6aG1PC9hPlwKICAgICAgICAgICAgICAgIDwvZGl2PlwKICAgICAgICAgICAgICAgICc7CiAgICAgICAgdmFyIGh0bWw9VGVtcGxhdGVFbmdpbmUodGVtcGxhdGUscGFnZSk7CiAgICAgICAgdGhpcy5VSS5wYWdlc2UuaW5uZXJIVE1MID0gaHRtbDsKICAgIH0KIH07CgoKIHZhciBDb250cm9sbGVyPWZ1bmN0aW9uKG1vZGVsLHZpZXdlcil7CiAgICB0aGlzLm1vZGVsPW1vZGVsOwogICAgdGhpcy52aWV3ZXI9dmlld2VyOwoKICAgIHZhciBfc2VsZj10aGlzOwoKICAgIHRoaXMudmlld2VyLnNlYXJjaENsaWNrLmF0dGFjaChmdW5jdGlvbihzZW5kZXIsYXJncyl7CiAgICAgICAgX3NlbGYuc2VhcmNoKGFyZ3MuY3VycixhcmdzLmtleXdvcmQpOwogICAgfSk7CiAgICB0aGlzLnZpZXdlci5jbG9zZUNsaWNrLmF0dGFjaChmdW5jdGlvbigpewogICAgICAgIF9zZWxmLmNsb3NlKCk7CiAgICB9KTsKICAgIHRoaXMudmlld2VyLmVuZ2luZU9wdENoYW5nZS5hdHRhY2goZnVuY3Rpb24oc2VuZGVyLGFyZ3MpewogICAgICAgIF9zZWxmLnNldEVuZ2luZShhcmdzKTsKICAgIH0pOwogICAgdGhpcy52aWV3ZXIudG9QYWdlQ2xpY2suYXR0YWNoKGZ1bmN0aW9uKHNlbmRlcixhcmdzKXsKICAgICAgICBfc2VsZi50b1BhZ2UoYXJncyk7CiAgICB9KTsKCiAgICB0aGlzLm1vZGVsLnJlcXVlc3RFdmVudC5hdHRhY2goZnVuY3Rpb24oKXsKICAgICAgICBfc2VsZi5sb2FkaW5nKCk7CiAgICB9KTsgCiAgICB0aGlzLm1vZGVsLmNvbnRlbnRVcGRhdGVkLmF0dGFjaChmdW5jdGlvbihzdGF0ZSl7CiAgICAgICAgX3NlbGYucmVmbGVzaChzdGF0ZSk7CiAgICB9KTsKCiB9OwogQ29udHJvbGxlci5wcm90b3R5cGU9ewogICAgc2VhcmNoOmZ1bmN0aW9uKGN1cnIsYXJncyl7CiAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVDdXJyKGN1cnIpOwogICAgICAgIHRoaXMubW9kZWwudXBkYXRlS2V5d29yZChhcmdzKTsKICAgICAgICB0aGlzLm1vZGVsLnJlcXVlc3QoKTsKICAgICAgICB0aGlzLnZpZXdlci5zaG93KCk7CiAgICB9LAogICAgc2V0RW5naW5lOmZ1bmN0aW9uKGVuZ2luZSl7CiAgICAgICAgdGhpcy5tb2RlbC5zZXRFbmdpbmUoZW5naW5lKTsKICAgICAgICB0aGlzLnZpZXdlci51cGRhdGVFbmdpbmUoKTsKICAgIH0sCiAgICB0b1BhZ2U6ZnVuY3Rpb24odG9QYWdlTnVtKXsKICAgICAgICB0aGlzLm1vZGVsLnVwZGF0ZUN1cnIodG9QYWdlTnVtKTsKICAgICAgICB0aGlzLm1vZGVsLnJlcXVlc3QoKTsKICAgIH0sCiAgICBjbG9zZTpmdW5jdGlvbigpewogICAgICAgIHRoaXMubW9kZWwuZGVzdG9yeSgpOwogICAgICAgIHRoaXMudmlld2VyLmNsb3NlKCk7CiAgICB9LAogICAgbG9hZGluZzpmdW5jdGlvbigpewogICAgICAgIHRoaXMudmlld2VyLmxvYWRpbmcoKTsKICAgIH0sCiAgICByZWZsZXNoOmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy52aWV3ZXIucmVmbGVzaCgpOwogICAgICAgIHRoaXMudmlld2VyLnJlZmxlc2hQYWdlTmF2aSgpOwogICAgfSwKICAgIHJlZmxlc2hFbmdpbmVMc3Q6ZnVuY3Rpb24oKXsKICAgICAgICB0aGlzLnZpZXdlci5yZWZsZXNoRW5naW5lTHN0KCk7CiAgICB9LAogfTsKCgoKZnVuY3Rpb24gbmV3SW5pdCAoKSB7CiAgICAvL3JlbW92ZSBhZHZzCiAgICAvL2NyZWF0ZSBzZWFyY2ggYmFyCiAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLXVuaW9uJykpewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItdW5pb24nKS5yZW1vdmUoKTsKICAgIH0KICAgIHZhciB0YXJnZXROb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1pbmZvJyk7CiAgICB2YXIgd3h6U2VhcmNoQmFyTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RkJyk7CiAgICB3eHpTZWFyY2hCYXJOb2RlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdoZWFkZXItd3h6YmFyIGhlYWRlci1pbmZvJyk7CiAgICAvL3d4elNlYXJjaEJhck5vZGUuc2V0QXR0cmlidXRlKCdub2RlLXR5cGUnLCdoZWFkZXItYXBwcycpOwogICAgd3h6U2VhcmNoQmFyTm9kZS5pbm5lckhUTUwgPQogICAgICAgICAgICAnPHNwYW4gY2xhc3M9Ind4ei1tZW51IHd4ei1kcm9wZG93biI+XAogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InVzZXItbmFtZSIgaWQ9Ind4ek1lbnVEaXNwbGF5Ij5nb29nbGU8L3NwYW4+XAogICAgICAgICAgICAgICAgPGVtIGNsYXNzPSJpY29uIGljb24tZHJvcGRvd24tYXJyb3ciPjwvZW0+XAogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJ3eHotbWVudS1jb250ZW50IiBpZD0id3h6X2VuZ2luZUxzdCI+XAogICAgICAgICAgICAgICAgPC91bD5cCiAgICAgICAgICAgIDwvc3Bhbj5cCiAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJzZWFyY2gtZm9ybSIgaWQ9Ind4el9zZWFyY2hGb3JtIj5cCiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9InNlYXJjaC1xdWVyeSIgcGxhY2Vob2xkZXI9IiDmkJzntKLlhazlvIDliIbkuqvmlofku7YiIGlkPSJ3eHpfaW5wdXQiPlwKICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJHTyIgY2xhc3M9InNlYXJjaC1idXR0b24iIGlkPSJ3eHpfc2VhcmNoQnV0dG9uIj5cCiAgICAgICAgICAgIDwvZm9ybT4nOwogICAgLy9pbnNlcnQgYWZ0ZXIgdGFyZ2V0IG5vZGUKICAgIHRhcmdldE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3h6U2VhcmNoQmFyTm9kZSx0YXJnZXROb2RlLm5leHRTbGliaW5nKTsKICAgIC8vYmFja2dyb3VuZAogICAgdmFyIHd4emJnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgd3h6YmdOb2RlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCd3eHotYmcnKTsKICAgIHd4emJnTm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmFwcGVuZENoaWxkKHd4emJnTm9kZSk7CgogICAgLy9jcmVhdGUgZGlzcGxheSBmcmFtZQogICAgdmFyIHd4ekRpYWxvZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHd4ekRpYWxvZ05vZGUuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2RpYWxvZyBkaWFsb2ctZ3JheScpOwogICAgd3h6RGlhbG9nTm9kZS5zZXRBdHRyaWJ1dGUoJ2lkJywnd3h6X215RGl2Jyk7CiAgICB3eHpEaWFsb2dOb2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCd6LWluZGV4Ojk5O3Bvc3Rpb246YWJzb2x1dGU7Jyk7CiAgICB3eHpEaWFsb2dOb2RlLnN0eWxlLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggLyAzICogMiArICdweCc7CiAgICB3eHpEaWFsb2dOb2RlLnN0eWxlLmxlZnQgPSAnNTAlJzsgICAgCiAgICB3eHpEaWFsb2dOb2RlLnN0eWxlLm1hcmdpbkxlZnQgPSAoLTEgKiB3aW5kb3cuaW5uZXJXaWR0aCAvIDMpICsgJ3B4JzsgCiAgICB3eHpEaWFsb2dOb2RlLmlubmVySFRNTCA9IAogICAgICAgICdcCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRpYWxvZy1oZWFkZXIiIGlkPSJ3eHpfbXlEaXZfdGl0bGUiPlwKICAgICAgICAgICAgICAgIDxoMyA+PHNwYW4gY2xhc3M9ImRpYWxvZy1oZWFkZXItdGl0bGUiPuaQnOe0ojwvc3Bhbj48L2gzPlwKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRpYWxvZy1jb250cm9sIiBpZD0id3h6X2Nsb3NlQnV0dG9uIj48c3BhbiBjbGFzcz0iZGlhbG9nLWljb24gZGlhbG9nLWNsb3NlIGljb24gaWNvbi1jbG9zZSI+PHNwYW4gY2xhc3M9InNpY29uIj7Dlzwvc3Bhbj48L3NwYW4+PC9kaXY+XAogICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRsZy1iZCBnLWNsZWFyZml4IG9mZmxpbmUtbGlzdC1kaWFsb2ciPlwKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Ind4ei1jb250ZW50Ij5cCiAgICAgICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvZmZsaW5lLWJvdHRvbSI+XAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9mZmxpbmUtcGFnZWluZyI+XAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlc2UgIiBpZD0id3h6LXBhZ2VzZSI+XAogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XAogICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgJzsKCiAgICAvL2FwcGVuZCB0byBib2R5CgogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmFwcGVuZENoaWxkKHd4ekRpYWxvZ05vZGUpOwoKCiAgICB2YXIgd3h6U3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIHd4elN0eWxlTm9kZS50ZXh0Q29udGVudCA9IAogICAgJ1wKICAgIC53eHotbWVudXtjdXJzb3I6cG9pbnRlcjsgaGVpZ2h0OjEwMCU7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7cG9zaXRpb246cmVsYXRpdmU7fVwKICAgIC53eHotbWVudTpob3ZlciAud3h6LW1lbnUtY29udGVudHtkaXNwbGF5OmJsb2NrOyB6LWluZGV4Ojk5fVwKICAgIC53eHotbWVudTpob3ZlciAuaWNvbi1kcm9wZG93bi1hcnJvd3t0cmFuc2Zvcm06cm90YXRlKDE4MCk7fVwKICAgIC53eHotbWVudS1vcHRpb257dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6MzBweDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOndoaXRlO2NvbG9yOmJsYWNrO2JvcmRlcjoxcHggc29saWQgI2VmZjRmODtib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO31cCiAgICAjd3h6X3NlYXJjaEZvcm17ZGlzcGxheTppbmxpbmUtYmxvY2s7IHZlcnRpY2FsLWFsaWduOm1pZGRsZTt9XAogICAgI3d4el9pbnB1dHtwYWRkaW5nOjAgNHB4OyBib3JkZXI6IDFweCBzb2xpZCAjYzBkOWZlO2JvcmRlci1yYWRpdXM6IDRweDtsaW5lLWhlaWdodDogMjJweDt9XAogICAgI3d4el9zZWFyY2hCdXR0b257Y3Vyc29yOnBvaW50ZXI7IGJhY2tncm91bmQ6ICMzYjhjZmY7Ym9yZGVyOiAycHggc29saWQgIzNiOGNmZjtjb2xvcjogI2Y4ZmJmZjtib3JkZXItcmFkaXVzOiA2cHg7fVwKICAgIC53eHotbWVudS1jb250ZW50e2Rpc3BsYXk6bm9uZTsgcG9zaXRpb246YWJzb2x1dGU7dG9wOjEwMCU7bGVmdDowO3dpZHRoOjgwcHg7fVwKICAgICN3eHpNZW51RGlzcGxheXtsaW5lLWhlaWdodDogNDBweDsgZGlzcGxheTppbmxpbmUtYmxvY2s7IHdpZHRoOjQwcHg7fVwKICAgIC53eHotYmd7cG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwcHg7IHRvcDogMHB4OyBib3R0b206IDBweDsgcmlnaHQ6IDBweDsgei1pbmRleDogNTA7IGJhY2tncm91bmQ6IHJnYigwLCAwLCAwKTsgb3BhY2l0eTogMC41O31cCiAgICAud3h6LWNvbnRlbnR7aGVpZ2h0OiA1MDBweDtsaW5lLWhlaWdodDogMjAwJTt0ZXh0LWFsaWduOiBsZWZ0O3doaXRlLXNwYWNlOiBub3JtYWw7cGFkZGluZzowIDEwcHg7b3ZlcmZsb3c6YXV0bzt9XAogICAgLnd4ei1jbG9zZXttYXJnaW4tcmlnaHQ6MjBweDtpbXBvcnRhbnQ7aGVpZ2h0OjIwcHg7Y3Vyc29yOnBvaW50ZXJ9XAogICAgLnd4ei1uZXh0e21hcmdpbi1yaWdodDoyMHB4O2Zsb2F0OnJpZ2h0O2hlaWdodDoyMHB4O2N1cnNvcjpwb2ludGVyfVwKICAgIC53eHotZnJvbnR7bWFyZ2luLXJpZ2h0OjQwcHg7ZmxvYXQ6cmlnaHQ7aGVpZ2h0OjIwcHg7Y3Vyc29yOnBvaW50ZXJ9XAogICAgLnd4ei1jb250ZW50IGF7Y29sb3I6IzAwNjZGRiFpbXBvcnRhbnQ7Zm9udDogMTRweC8xLjUgYXJpYWwsc2Fucy1zZXJpZiFpbXBvcnRhbnQ7fVwKICAgICc7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJykuYXBwZW5kQ2hpbGQod3h6U3R5bGVOb2RlKTsgICAgCgoKCgogICAgdmFyIGJkTW9kZWw9bmV3IEJhc2VNb2RlbChbJ2JpbmcnLCdnb29nbGUnXSk7CgogICAgYmRNb2RlbC51cmxzLmJpbmc9J2h0dHA6Ly9jbi5iaW5nLmNvbS9zZWFyY2g/cT0nOwogICAgYmRNb2RlbC51cmxzLmdvb2dsZT0naHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vY3VzdG9tc2VhcmNoL3YxZWxlbWVudD9rZXk9QUl6YVN5Q1ZBWGlVelJZc01MMVB2NlJ3U0cxZ3VubU1pa1R6UXFZJnJzej1maWx0ZXJlZF9jc2UmbnVtPTEwJmhsPWVuJnByZXR0eVByaW50PXRydWUmc291cmNlPWdjc2MmZ3NzPS5jb20mc2lnPWVlOTNmOWFhZTljOWU5ZGJhNWVlYTgzMWQ1MDZlNjlhJmN4PTAxODE3NzE0MzM4MDg5MzE1MzMwNTp5azBxcGd5ZHhfZSZxPSc7CgogICAgYmRNb2RlbC50b0pzb24uYmluZz1mdW5jdGlvbihodG1sKXsKICAgICAgICB2YXIgZGF0YSA9IHsgY3Vyc29yOiB7IGVzdGltYXRlZFJlc3VsdENvdW50OiAwLCByZXN1bHRDb3VudDogMCB9LCByZXN1bHRzOiBbXSB9OwogICAgICAgIC8v5YW25Lit5LiA5p2h57uT5p6c77yaCiAgICAgICAgLy88bGkgY2xhc3M9ImJfYWxnbyI+PGgyPgogICAgICAgIC8vPGEgaHJlZj0iaHR0cDovL3Bhbi5iYWlkdS5jb20vd2FwL2xpbms/dWs9MjkyMzExMDY1OCZhbXA7c2hhcmVpZD0zNDY4ODE1ODM0JmFtcDt0aGlyZD0zIiB0YXJnZXQ9Il9ibGFuayIgaD0iSUQ9U0VSUCw1MTAxLjEiPllGSy08c3Ryb25nPlJLMzM2ODwvc3Ryb25nPi04MTg5LTIwMTUwODIxLnJhcl/lhY3otLnpq5jpgJ/kuIvovb1855m+5bqm5LqRIOe9keebmCAuLi48L2E+PC9oMj4KICAgICAgICAvLzxkaXYgY2xhc3M9ImJfY2FwdGlvbiI+PHA+5paH5Lu25ZCNOllGSy08c3Ryb25nPlJLMzM2ODwvc3Ryb25nPi04MTg5LTIwMTUwODIxLnJhciDmlofku7blpKflsI86NDk3LjU1TSDliIbkuqvogIU65pmo6IqvRkFFIOWIhuS6q+aXtumXtDoyMDE1LTgtMjEgMTQ6MDcg5LiL6L295qyh5pWwOjUgLi4uIOeZu+W9leeZvuW6puS6keWuouaIt+err+mAgTJU56m66Ze0IOeUteiEkeeJiDwvcD4KICAgICAgICAvLzxkaXYgY2xhc3M9ImJfYXR0cmlidXRpb24iIHU9IjB8NTA1OHw0ODM1MjcxMzg2OTkxMjQ4fDhPTWhjR0lJajhHVzA4STQxUjVVb1N5SnBsMl81UG55Ij48Y2l0ZT48c3Ryb25nPnBhbi5iYWlkdS5jb208L3N0cm9uZz4vd2FwL2xpbms/dWs9MjkyMzExMDY1OCZhbXA7c2hhcmVpZD0zNDY4ODE1ODM0JmFtcDsuLi48L2NpdGU+PHNwYW4gY2xhc3M9ImNfdGxieFRyZyI+CiAgICAgICAgLy88c3BhbiBjbGFzcz0iY190bGJ4SCIgSD0iQkFTRTpDQUNIRURQQUdFREVGQVVMVCIgSz0iU0VSUCw1MTAyLjEiPjwvc3Bhbj48L3NwYW4+PC9kaXY+PC9kaXY+PC9saT4KICAgICAgICAvL2h0dHA6Ly93d3cuamI1MS5uZXQvYXJ0aWNsZS80OTA4My5odG3lnKhKU+S4reino+aekEhUTUzlrZfnrKbkuLLnpLrkvovku6PnoIHvvJoKICAgICAgICB2YXIgcmF3UmVzdWx0SFRNTCA9IGh0bWwubWF0Y2goLzxsaVxzY2xhc3M9ImJfYWxnbyI+KC4qPyk8XC9saT4vZyk7CiAgICAgICAgdmFyIGJfcmVzdWx0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7CiAgICAgICAgYl9yZXN1bHRzLmlubmVySFRNTCA9IHJhd1Jlc3VsdEhUTUw7CiAgICAgICAgdmFyIGJfYWxnb19BcnJ5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYl9yZXN1bHRzLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2JfYWxnbycpKTsKICAgICAgICBiX2FsZ29fQXJyeS5mb3JFYWNoKGZ1bmN0aW9uKGVsZSwgaW5kZXgpIHsKICAgICAgICAgICAgdmFyIHRlbXBSZXN1bHQgPSB7CiAgICAgICAgICAgICAgICB1bmVzY2FwZWRVcmw6ICIiLAogICAgICAgICAgICAgICAgdGl0bGVOb0Zvcm1hdHRpbmc6ICIiLAogICAgICAgICAgICAgICAgY29udGVudE5vRm9ybWF0dGluZzogIiIKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGVtcFJlc3VsdC51bmVzY2FwZWRVcmwgPSBlbGUucXVlcnlTZWxlY3RvcignaDIgYScpLmdldEF0dHJpYnV0ZSgnaHJlZicpOwogICAgICAgICAgICB0ZW1wUmVzdWx0LnRpdGxlTm9Gb3JtYXR0aW5nID0gZWxlLnF1ZXJ5U2VsZWN0b3IoJ2gyIGEnKS50ZXh0Q29udGVudDsKICAgICAgICAgICAgdGVtcFJlc3VsdC5jb250ZW50Tm9Gb3JtYXR0aW5nID0gZWxlLnF1ZXJ5U2VsZWN0b3IoJy5iX2NhcHRpb24gcCcpLnRleHRDb250ZW50OwogICAgICAgICAgICBkYXRhLnJlc3VsdHMucHVzaCh0ZW1wUmVzdWx0KTsKICAgICAgICB9KTsKICAgICAgICAvLy8v5aSE55CG57uf6K6h57uT5p6cCiAgICAgICAgdmFyIHJhd1Jlc3VsdENvdW50PWh0bWwubWF0Y2goLzxzcGFuLio/c2JfY291bnQuKj8+KC4qPyk8XC9zcGFuPi8pWzFdOwogICAgICAgIHZhciBtYXRjaExzdD1bXTsgICAgCiAgICAgICAgbWF0Y2hMc3Q9cmF3UmVzdWx0Q291bnQubWF0Y2goLyhbMC05XXsxLDN9KCxbMC05XXszfSkrKS9nKTsKICAgICAgICBpZihtYXRjaExzdCE9PW51bGwpey8v5Yy56YWNMTAwLDAwMCwxMTHkuYvnsbvnmoTmg4XlhrUKICAgICAgICAgICAgZGF0YS5jdXJzb3IucmVzdWx0Q291bnQ9bWF0Y2hMc3RbMF0ucmVwbGFjZSgnLCcsJycpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBtYXRjaExzdD1yYXdSZXN1bHRDb3VudC5tYXRjaCgvXGQrL2cpOwogICAgICAgICAgICBpZihtYXRjaExzdCE9PW51bGwpey8v5Yy56YWNMTAg5Liq57uT5p6c5LmL57G755qE5oOF5Ya177yM5Lul5Y+KMS0xMe+8jOWFsTEx5Liq55qE5oOF5Ya1CiAgICAgICAgICAgIGRhdGEuY3Vyc29yLnJlc3VsdENvdW50PW1hdGNoTHN0LnBvcCgpOwogICAgICAgICAgICB9ZWxzZXsvL+WMuemFjeaXoOeahOaDheWGtQogICAgICAgICAgICBkYXRhLmN1cnNvci5yZXN1bHRDb3VudD0wOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGRhdGEuY3Vyc29yLnJlc3VsdENvdW50ID0gcGFyc2VJbnQoIGRhdGEuY3Vyc29yLnJlc3VsdENvdW50LnRvU3RyaW5nKCksMTApOwogICAgICAgIGRhdGEuY3Vyc29yLmVzdGltYXRlZFJlc3VsdENvdW50ID0gZGF0YS5jdXJzb3IucmVzdWx0Q291bnQ7CiAgICAgICAgcmV0dXJuIGRhdGE7ICAgICAgICAKICAgIH07CiAgICBiZE1vZGVsLnRvSnNvbi5nb29nbGU9ZnVuY3Rpb24ocmVzcG9uc2VUZXh0KXsKICAgICAgICB2YXIgZGF0YT1KU09OLnBhcnNlKHJlc3BvbnNlVGV4dCk7CiAgICAgICAgZGF0YS5jdXJzb3IucmVzdWx0Q291bnQ9cGFyc2VJbnQoZGF0YS5jdXJzb3IucmVzdWx0Q291bnQuc3BsaXQoJywnKS5qb2luKCcnKSk7CiAgICAgICAgcmV0dXJuIGRhdGE7ICAgICAgICAKICAgIH07CgogICAgYmRNb2RlbC5jb21waWxlVXJsLmJpbmc9ZnVuY3Rpb24oX3NlbGYpewogICAgICAgIHJldHVybiBfc2VsZi51cmxzLmJpbmcgKyBfc2VsZi5rZXl3b3JkICsgJytzaXRlJTNBcGFuLmJhaWR1LmNvbScgKyAnJmZpcnN0PScgKyAoX3NlbGYuY3Vyci0xKSoxMDsKICAgIH07CiAgICBiZE1vZGVsLmNvbXBpbGVVcmwuZ29vZ2xlPWZ1bmN0aW9uKF9zZWxmKXsKICAgICAgICByZXR1cm4gX3NlbGYudXJscy5nb29nbGUgKyBfc2VsZi5rZXl3b3JkICsgJyZzdGFydD0nICsgKF9zZWxmLmN1cnItMSkqMTA7CiAgICB9OwoKICAgIHZhciBiZFZpZXc9bmV3IFZpZXdlcihiZE1vZGVsLHsKICAgICAgICBpbnB1dEVsZTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3h6X2lucHV0JyksCiAgICAgICAgc2VhcmNoQnRuOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHpfc2VhcmNoQnV0dG9uJyksCiAgICAgICAgY2xvc2VCdG46ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3d4el9jbG9zZUJ1dHRvbicpLAogICAgICAgIG15RGl2OmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHpfbXlEaXYnKSwKICAgICAgICBteUNvbnRlbnQ6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnd4ei1jb250ZW50JyksCiAgICAgICAgbWVudTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3h6TWVudURpc3BsYXknKSwKICAgICAgICBlbmdpbmVCdG5DbGFzc05hbWU6J3d4ei1tZW51LW9wdGlvbicsCiAgICAgICAgZW5naW5lTHN0OmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHpfZW5naW5lTHN0JyksCiAgICAgICAgcGFnZXNlOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHotcGFnZXNlJyksCiAgICAgICAgdG9QYWdlQnRuQ2xhc3NOYW1lOidwYWdlLW51bWJlcicsCiAgICAgICAgYmdOb2RlOnd4emJnTm9kZQogICAgfSk7CiAgICB2YXIgYmRDb250cm9sbGVyPW5ldyBDb250cm9sbGVyKGJkTW9kZWwsYmRWaWV3KTsKICAgIGJkQ29udHJvbGxlci5yZWZsZXNoRW5naW5lTHN0KCk7CgkvL+i/memHjOWGmeeahOS4jeWlvQogICAgdmFyIHRlbXBTdHIgPSAnJzsKICAgIHZhciB0ZW1wT2JqOwogICAgdGVtcFN0ciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd3h6WXVucGFuU2VhcmNoZXInKTsKICAgIGlmICh0ZW1wU3RyKSB7CiAgICAJdGVtcE9iaiA9IEpTT04ucGFyc2UodGVtcFN0cik7CiAgICAJYmRDb250cm9sbGVyLnNldEVuZ2luZSh0ZW1wT2JqLmVuZ2luZSk7CiAgICB9CiAgICBlbHNlewogICAgCWJkQ29udHJvbGxlci5zZXRFbmdpbmUoJ2JpbmcnKTsKICAgIH0KICAgIAoKfQoKdmFyIGNvdW50ZXIgPSAwOwoKdmFyCnQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7IC8v55m+5bqm5LqR5oqK5LiA5Lqb5YaF5a655pS+5Yiw5ZCO6Z2i5Yqg6L29LOWboOatpOaIkeiuvue9ruS6huS4gOS4quW7tuaXtuW+queOr++8jOavj+malDIwMG1z6YCJ5oup5LiA5LiL5omA6ZyA55qE5YWD57Sg77yM5b2T5omA6ZyA55qE5YWD57Sg5a2Y5Zyo5pe277yM5byA5aeL6ISa5pys77yM5ZCM5pe25YGc5q2i5bu25pe25b6q546vIAogICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5oZWFkZXItaW5mbyIpICE9PSBudWxsKSB7CiAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodCk7CiAgICAgICAgbmV3SW5pdCgpOwogICAgfQogICAgZWxzZXsKICAgICAgICBpZihjb3VudGVyIDwgMTAwKXsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3dhaXRpbmcnKTsKICAgICAgICAgICAgY291bnRlciArKzsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvdXQgb2YgdGltZScpOwogICAgICAgIH0KICAgIH0KfSwgMjAwKTsK"},{"name":"Kill Baidu AD","options":{"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http*://www.baidu.com/*","http*://m.baidu.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-body","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[],"orig_connects":[]}},"storage":{"data":{},"ts":1484058147376},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/24192-kill-baidu-ad/code/Kill%20Baidu%20AD.user.js","uuid":"914a0f0b-d382-4e40-b236-a7bda484b3b3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICBLaWxsIEJhaWR1IEFECi8vIEBuYW1lOnpoLUNOICAgICAgICAg55m+5bqm5bm/5ZGKKOmmluWwvuaOqOW5v+WPiuWPs+S+p+W5v+WRiinmuIXnkIYKLy8gQG5hbWVzcGFjZSAgICAgICAgICBob290aGluCi8vIEB2ZXJzaW9uICAgICAgICAgICAgMC43Ci8vIEBkZXNjcmlwdGlvbiAgICAgICAgSnVzdCBLaWxsIEJhaWR1IEFECi8vIEBkZXNjcmlwdGlvbjp6aC1DTiAg5b275bqV5riF55CG55m+5bqm5pCc57SiKHd3dy5iYWlkdS5jb20p57uT5p6c6aaW5bC+55qE5o6o5bm/5bm/5ZGK44CB5LqM5qyh6aG95Zu65bm/5ZGK5LiO5Y+z5L6n5bm/5ZGK77yM5bm26Ziy5q2i5Y+N5aSNCi8vIEBhdXRob3IgICAgICAgICAgICAgaG9vdGhpbgovLyBAaW5jbHVkZSAgICAgICAgICAgIGh0dHAqOi8vd3d3LmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAgaHR0cCo6Ly9tLmJhaWR1LmNvbS8qCi8vIEBncmFudCAgICAgICAgICAgICAgbm9uZQovLyBAcnVuLWF0ICAgICAgICAgICAgIGRvY3VtZW50LWJvZHkKLy8gQGxpY2Vuc2UgICAgICAgICAgICBNSVQgTGljZW5zZQovLyBAY29tcGF0aWJsZSAgICAgICAgIGNocm9tZSDmtYvor5XpgJrov4cKLy8gQGNvbXBhdGlibGUgICAgICAgICBmaXJlZm94IOa1i+ivlemAmui/hwovLyBAY29tcGF0aWJsZSAgICAgICAgIG9wZXJhIOacqua1i+ivlQovLyBAY29tcGF0aWJsZSAgICAgICAgIHNhZmFyaSDmnKrmtYvor5UKLy8gQGNvbnRyaWJ1dGlvblVSTCAgICBodHRwczovL3d3dy5wYXlwYWwuY29tL2NnaS1iaW4vd2Vic2NyP2NtZD1fZG9uYXRpb25zJmJ1c2luZXNzPXJpeGl4aUBzaW5hLmNvbSZpdGVtX25hbWU9R3JlYXN5K0ZvcmsrZG9uYXRpb24KLy8gQGNvbnRyaWJ1dGlvbkFtb3VudCAxCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjsKICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKHJlY29yZHMpewogICAgICAgIGNsZWFyQUQoKTsKICAgIH0pOwogICAgdmFyIG9wdGlvbiA9IHsKICAgICAgICAnY2hpbGRMaXN0JzogdHJ1ZSwKICAgICAgICAnc3VidHJlZSc6IHRydWUKICAgIH07CiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIG9wdGlvbik7CgogICAgZnVuY3Rpb24gY2xlYXJBRCgpewogICAgICAgIHZhciBtQWRzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5lY193aXNlX2FkLC5lY195b3V4dWFuX2NhcmQiKSxpOwogICAgICAgIGZvcihpPTA7aTxtQWRzLmxlbmd0aDtpKyspewogICAgICAgICAgICB2YXIgbUFkPW1BZHNbaV07CiAgICAgICAgICAgIG1BZC5yZW1vdmUoKTsKICAgICAgICB9CiAgICAgICAgdmFyIGxpc3Q9ZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCIjY29udGVudF9sZWZ0PmRpdiwjY29udGVudF9sZWZ0PnRhYmxlIik7CiAgICAgICAgZm9yKGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgICAgIGxldCBpdGVtID0gbGlzdFtpXTsKICAgICAgICAgICAgbGV0IHMgPSBpdGVtLmdldEF0dHJpYnV0ZSgic3R5bGUiKTsKICAgICAgICAgICAgaWYgKHMgJiYgL2Rpc3BsYXk6KHRhYmxlfGJsb2NrKVxzIWltcG9ydGFudC8udGVzdChzKSkgewogICAgICAgICAgICAgICAgaXRlbS5yZW1vdmUoKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB2YXIgc3Bhbj1pdGVtLnF1ZXJ5U2VsZWN0b3IoImRpdj5zcGFuIik7CiAgICAgICAgICAgICAgICBpZihzcGFuICYmIHNwYW4uaW5uZXJIVE1MPT0i5bm/5ZGKIil7CiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIGViID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiI2NvbnRlbnRfcmlnaHQ+dGFibGU+dGJvZHk+dHI+dGQ+ZGl2Iik7CiAgICAgICAgZm9yKGk9MDtpPGViLmxlbmd0aDtpKyspewogICAgICAgICAgICBsZXQgZCA9IGViW2ldOwogICAgICAgICAgICBpZiAoZC5pZCE9ImNvbi1hciIpIHsKICAgICAgICAgICAgICAgIGQucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0pKCk7"},{"name":"Douban Movie Download Search Modify by Louis","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http*://movie.douban.com/subject/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1484058147378},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/8261-douban-movie-download-search-modify-by-louis/code/Douban%20Movie%20Download%20Search%20Modify%20by%20Louis.user.js","uuid":"e220f0c4-7474-492e-b2dd-0a9799ce8e13","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIERvdWJhbiBNb3ZpZSBEb3dubG9hZCBTZWFyY2ggTW9kaWZ5IGJ5IExvdWlzCi8vIEBuYW1lc3BhY2UgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvODI2MS1kb3ViYW4tbW92aWUtZG93bmxvYWQtc2VhcmNoLW1vZGlmeS1ieS1sb3VpcwovLyBAZGVzY3JpcHRpb24gICAg5Zyo6LGG55Oj55S15b2x6aG16Z2i5re75Yqg6LWE5rqQ5pCc57Si6ZO+5o6l44CCCi8vIEB2ZXJzaW9uICAgICAgICAwLjIwMTcwMTI1Ci8vIEBpbmNsdWRlICAgICAgICBodHRwKjovL21vdmllLmRvdWJhbi5jb20vc3ViamVjdC8qCi8vIEBncmFudCAgICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKZnVuY3Rpb24gYWRkSlF1ZXJ5KGNhbGxiYWNrKSB7CiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCJzcmMiLCAiYWJvdXQ6YmxhbmsiKTsKICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgICAgICBzY3JpcHQudGV4dENvbnRlbnQgPSAiKCIgKyBjYWxsYmFjay50b1N0cmluZygpICsgIikoKTsiOwogICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKICAgIH0sIGZhbHNlKTsKICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKfQoKZnVuY3Rpb24gbWFpbigpIHsKICAgIHRyeSB7CiAgICAJdmFyIG1vdmllVGl0bGUgPSBqUXVlcnkoJ2gxIHNwYW46ZXEoMCknKS50ZXh0KCk7CgkJdmFyIHRpdGxlID0gJCgnaHRtbCBoZWFkIHRpdGxlJykudGV4dCgpOwoJICAgIHZhciBrZXl3b3JkMSA9IHRpdGxlLnJlcGxhY2UoICco6LGG55OjKScsICcnICkudHJpbSgpOwoJICAgIHZhciBrZXl3b3JkMiA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5d29yZDEgKTsKCQlqUXVlcnkoJyNpbmZvJykuYXBwZW5kKCc8ZGl2PjxzcGFuIGNsYXNzPSJwbCI+5LiL6L29Ojwvc3Bhbj4gPGEgaHJlZj0iaHR0cDovL3d3dy5iYWlkdS5jb20vcz93ZD0nICsgbW92aWVUaXRsZSArICcrQkRyaXAiIHRhcmdldD0iX2JhbG5rIj7lnKhCYWlkdeS4iuaQnOe0ojwvYT4gLyAgPGEgaHJlZj0iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/aWU9VVRGLTgmcT0nICsgbW92aWVUaXRsZSArICcrdG9ycmVudCIgdGFyZ2V0PSJfYmFsbmsiPuWcqEdvb2dsZeS4iuaQnOe0ojwvYT4gLyA8YSBocmVmPSJodHRwOi8vc2VhcmNoLm10aW1lLmNvbS9zZWFyY2gvP3E9JyArIGtleXdvcmQyICsgJyIgdGFyZ2V0PSJfYmFsbmsiPuaXtuWFiTwvYT4gLyA8YSBocmVmPSJodHRwOi8vd3d3LnppbXV6dS50di9zZWFyY2gvaW5kZXg/a2V5d29yZD0nICsga2V5d29yZDIgKyAnJnNlYXJjaF90eXBlPSIgdGFyZ2V0PSJfYmFsbmsiPlppbXV6dTwvYT4gLyA8YSBocmVmPSJodHRwOi8vdG9ycmVudHouZXUvc2VhcmNoP2Y9JyArIG1vdmllVGl0bGUgKyAnIiB0YXJnZXQ9Il9iYWxuayI+VG9ycmVudHo8L2E+IC8gPGEgaHJlZj0iaHR0cDovL3RvcnJlbnRwcm9qZWN0LmNvbS8/dD0nICsgbW92aWVUaXRsZSArICciIHRhcmdldD0iX2JhbG5rIj5Ub3JyZW50UHJvamVjdDwvYT4gLyA8YSBocmVmPSJodHRwOi8vd3d3LnRvcnJlbnRraXR0eS5jb20vc2VhcmNoLycgKyBtb3ZpZVRpdGxlICsgJyIgdGFyZ2V0PSJfYmFsbmsiPlRvcnJlbnRLaXR0eTwvYT4gLyA8YSBocmVmPSJodHRwOi8vYmFueXVuZ29uZy5uZXQvc2VhcmNoLycgKyBrZXl3b3JkMiArICcrLmh0bWwiIHRhcmdldD0iX2JhbG5rIj7mkKzov5Dlt6U8L2E+PGJyPjxzcGFuIGNsYXNzPSJwbCI+5a2X5bmVOjwvc3Bhbj4gPGEgaHJlZj0iaHR0cDovL3N1YmhkLmNvbS9zZWFyY2gvJyArIG1vdmllVGl0bGUgKyAnIiB0YXJnZXQ9Il9iYWxuayI+U3ViIEhEPC9hPiAvIDxhIGhyZWY9Imh0dHA6Ly93d3cuemltdWt1Lm5ldC9zZWFyY2g/cT0nICsgbW92aWVUaXRsZSArICciIHRhcmdldD0iX2JhbG5rIj5aaW11a3U8L2E+IC8gPGEgaHJlZj0iaHR0cDovL3d3dy5zdWJvbS5uZXQvc2VhcmNoLycgKyBtb3ZpZVRpdGxlICsgJyIgdGFyZ2V0PSJfYmFsbmsiPlN1Ym9tPC9hPiAvIDxhIGhyZWY9Imh0dHA6Ly93d3cub3BlbnN1YnRpdGxlcy5vcmcvemgvc2VhcmNoMi9zdWJsYW5ndWFnZWlkLWNoaS9tb3ZpZW5hbWUtJyArIG1vdmllVGl0bGUgKyAnIiB0YXJnZXQ9Il9iYWxuayI+T3BlblN1YnM8L2E+IC8gPGEgaHJlZj0iaHR0cDovL3Nob290ZXIuY24vc2VhcmNoLycgKyBtb3ZpZVRpdGxlICsgJyIgdGFyZ2V0PSJfYmFsbmsiPlNob290ZXI8L2E+IC8gPGEgaHJlZj0iaHR0cDovL2Fzc3J0Lm5ldC9zdWIvP3NlYXJjaHdvcmQ9JyArIG1vdmllVGl0bGUgKyAnIiB0YXJnZXQ9Il9iYWxuayI+U2hvb3RlcijkvKopPC9hPjxkaXY+Jyk7CiAgICB9CiAgICBjYXRjaCAoZSkgeyB9Cn0KYWRkSlF1ZXJ5KG1haW4pOw=="},{"name":"网盘提取工具","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1484058147380},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/18733-%E7%BD%91%E7%9B%98%E6%8F%90%E5%8F%96%E5%B7%A5%E5%85%B7/code/%E7%BD%91%E7%9B%98%E6%8F%90%E5%8F%96%E5%B7%A5%E5%85%B7.user.js","uuid":"232e3252-cbb6-40c0-916a-c58aa0a26eae","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnvZHnm5jmj5Dlj5blt6XlhbcKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vd3d3LmZpc2hsZWUubmV0LwovLyBAdmVyc2lvbiAgICAgIDIuNAovLyBAZGVzY3JpcHRpb24gIOWwveWPr+iDveWcqOaUr+aMgeeahOe9keebmO+8iOaWsOa1quW+ruebmOOAgeeZvuW6pue9keebmOOAgTM2MOS6keebmOetie+8ieiHquWKqOi+k+WFpeaPkOWPluegge+8jOecgeWOu+S4i+i9veeahOeDpuaBvOOAggovLyBAYXV0aG9yICAgICAgIOacqOmxvChpRmlzaCkKLy8gQG1hdGNoICAgICAgICAqOi8vKi8qCi8vIEBncmFudCAgICAgICAgdW5zYWZlV2luZG93Ci8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24od2luZG93LCBzZWxmLCB1bnNhZmVXaW5kb3cpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciB0aW1lU3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgIHZhciBsb2NhdGlvbiA9IHNlbGYubG9jYXRpb247CiAgICB2YXIgaG9zdCA9IGxvY2F0aW9uLmhvc3Q7CiAgICB2YXIgcGF0aCA9IGxvY2F0aW9uLnBhdGhuYW1lOwogICAgdmFyIGNvZGUsIGlucHV0OwogICAgdmFyIGdldENvZGUgPSBmdW5jdGlvbihydWxlKSB7CiAgICAgICAgY29kZSA9IGxvY2F0aW9uLmhhc2guc2xpY2UoMSwgNSk7CiAgICAgICAgaWYgKChydWxlIHx8IC8oW2EtelxkXXs0fSkvaS5leGVjKGNvZGUpKSkgewogICAgICAgICAgICBjb2RlID0gUmVnRXhwLiQxOwogICAgICAgIH0gZWxzZSBjb2RlID0gbnVsbDsKICAgICAgICByZXR1cm4gY29kZTsKICAgIH07CiAgICBpZiAoKGhvc3QgPT09ICdwYW4uYmFpZHUuY29tJyB8fCBob3N0ID09PSAneXVuLmJhaWR1LmNvbScpKSB7CiAgICAgICAgLy/nmb7luqbkupHnm5gKICAgICAgICBpZiAocGF0aC5pbmRleE9mKCIvc2hhcmUvIikgIT09IC0xICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY2Nlc3NDb2RlIikgJiYgZ2V0Q29kZSgpKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY2Nlc3NDb2RlIikudmFsdWUgPSBjb2RlOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3VibWl0QnRuIikuY2xpY2soKTsKICAgICAgICB9CiAgICB9IGVsc2UgaWYgKC9eLipcLnl1bnBhblwuY24kL2kudGVzdChob3N0KSkgewogICAgICAgIC8vMzYw5LqR55uYCiAgICAgICAgaWYgKHNlbGYubG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZigiL2xrLyIpICE9PSAtMSkgewogICAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0LnB3ZC1pbnB1dCIpOwogICAgICAgICAgICBpZiAoZ2V0Q29kZSgpICYmIGlucHV0KSB7CiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGNvZGU7CiAgICAgICAgICAgICAgICBpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmcuY2xpY2soKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgICAgLy/lhbblroPnvZHnq5nvvIzmo4DmtYvpk77mjqUKICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJhW2hyZWYqPSdwYW4uYmFpZHUuY29tJ10sIGFbaHJlZio9J3l1bnBhbi5jbiddLCBhW2hyZWYqPSd2ZGlzay53ZWliby5jb20nXSIpKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmspIHsKICAgICAgICAgICAgdmFyIHR4dCA9IGxpbmsubmV4dFNpYmxpbmcgJiYgbGluay5uZXh0U2libGluZy5ub2RlVmFsdWU7CiAgICAgICAgICAgIHZhciBsaW5rY29kZSA9IC/noIEuKj8oW2EtelxkXXs0fSkvaS5leGVjKHR4dCkgJiYgUmVnRXhwLiQxOwogICAgICAgICAgICBpZiAoIWxpbmtjb2RlKSB7CiAgICAgICAgICAgICAgICB0eHQgPSBsaW5rLnBhcmVudE5vZGUuaW5uZXJUZXh0OwogICAgICAgICAgICAgICAgbGlua2NvZGUgPSAv56CBLio/KFthLXpcZF17NH0pL2kuZXhlYyh0eHQpICYmIFJlZ0V4cC4kMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobGlua2NvZGUpIHsKICAgICAgICAgICAgICAgIHZhciBocmVmID0gbGluay5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICAgICAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJocmVmIiwgaHJlZiArICIjIiArIGxpbmtjb2RlKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQogICAgdmFyIHRpbWVFbmQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgIGNvbnNvbGUubG9nKCJb572R55uY5o+Q5Y+W5bel5YW3XSDpk77mjqXlpITnkIblrozmiJDvvIzogJfml7bvvJoiICsgKHRpbWVFbmQgLSB0aW1lU3RhcnQpICsgIuavq+enki4g5aSE55CG5qih5byP77yaRE9N5aSE55CGIik7Cn0pKHdpbmRvdywgd2luZG93LnNlbGYsIHVuc2FmZVdpbmRvdyk7CihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIC8vY29uc3RzLi4uCiAgICB2YXIgQ09ERV9SVUxFX0JBSURVID0gL14oW2EtelxkXXs0fSkkL2k7CiAgICB2YXIgQ09ERV9SVUxFX1lVTlBBTiA9IC9eKFthLXpcZF17NH0pJC9pOwogICAgdmFyIE1BWF9TRUFSQ0hfQ09ERV9SQU5HRSA9IDU7CiAgICAvL2Z1bmN0aW9ucy4uLgogICAgdmFyIHRleHROb2Rlc1VuZGVyID0gZnVuY3Rpb24oZWwpIHsKICAgICAgICB2YXIgbiwgYSA9IFtdLAogICAgICAgICAgICB3YWxrID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihlbCwgTm9kZUZpbHRlci5TSE9XX1RFWFQsIG51bGwsIGZhbHNlKTsKICAgICAgICB3aGlsZSAoKG4gPSB3YWxrLm5leHROb2RlKCkpKSBhLnB1c2gobik7CiAgICAgICAgcmV0dXJuIGE7CiAgICB9OwogICAgdmFyIGdlbmVyYWxMaW5raWZ5VGV4dCA9IGZ1bmN0aW9uKHRleHQsIGVsZXMsIGluZGV4LCB0ZXN0UmVnLCB2YWxpZGF0ZVJ1bGUpIHsKICAgICAgICB2YXIgbG9vcENvdW50ID0gMCwKICAgICAgICAgICAgb3JpZ2luYWxUZXh0LCBjb2RlLCBtYXRjaCwgdXJsLAogICAgICAgICAgICBsaW5raWZpZWRUZXh0ID0gdGV4dDsKICAgICAgICB3aGlsZSAoKG1hdGNoID0gdGVzdFJlZy5leGVjKHRleHQpKSkgewogICAgICAgICAgICBsb29wQ291bnQrKzsKICAgICAgICAgICAgdXJsID0gKG1hdGNoWzFdIHx8ICJodHRwOi8vIikgKyBtYXRjaFsyXTsKICAgICAgICAgICAgb3JpZ2luYWxUZXh0ID0gbWF0Y2hbMV0gKyBtYXRjaFsyXTsKICAgICAgICAgICAgY29kZSA9IG1hdGNoWzNdIHx8IGZpbmRDb2RlRnJvbUVsZW1lbnRzKGVsZXMsIGluZGV4LCB2YWxpZGF0ZVJ1bGUpIHx8ICIiOwogICAgICAgICAgICBjb25zb2xlLmxvZygiW+e9keebmOaPkOWPluW3peWFt10g5bey5aSE55CG572R55uY5Zyw5Z2A77yMVVJMPSIgKyB1cmwgKyAi77yM5o+Q5Y+W56CBPSIgKyBjb2RlICsgIuaooeW8j++8mlRFWFROT0RFIik7CiAgICAgICAgICAgIGxpbmtpZmllZFRleHQgPSBsaW5raWZpZWRUZXh0LnJlcGxhY2Uob3JpZ2luYWxUZXh0LCAiPGEgaHJlZj0nIiArIHVybCArICIjIiArIGNvZGUgKyAiJyB0YXJnZXQ9J19ibGFuayc+IiArIHVybCArICc8L2E+Jyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBbbG9vcENvdW50LCBsaW5raWZpZWRUZXh0XTsKICAgIH07CiAgICB2YXIgbGlua2lmeVRleHRCbG9ja0JhaWR1ID0gZnVuY3Rpb24odGV4dCwgZWxlcywgaW5kZXgpIHsKICAgICAgICByZXR1cm4gZ2VuZXJhbExpbmtpZnlUZXh0KHRleHQsIGVsZXMsIGluZGV4LCAvKGh0dHA6XC9cLyk/KCg/OnBhbnx5dW4pXC5iYWlkdVwuY29tXC9zXC8oPzpbYS16XGRdKykpKD86Lio/56CBLio/KFthLXpcZF0rKSk/L2dpLCBDT0RFX1JVTEVfQkFJRFUpOwogICAgfTsKICAgIHZhciBsaW5raWZ5VGV4dEJsb2NrWXVucGFuID0gZnVuY3Rpb24odGV4dCwgZWxlcywgaW5kZXgpIHsKICAgICAgICByZXR1cm4gZ2VuZXJhbExpbmtpZnlUZXh0KHRleHQsIGVsZXMsIGluZGV4LCAvKGh0dHA6XC9cLyk/KHl1bnBhblwuY25cLyg/OlthLXpcZF0rKSkoPzouKj/noIEuKj8oW2EtelxkXSspKT8vZ2ksIENPREVfUlVMRV9ZVU5QQU4pOwogICAgfTsKICAgIHZhciBmaW5kQ29kZUZyb21FbGVtZW50cyA9IGZ1bmN0aW9uKGVsZXMsIGluZGV4LCBydWxlKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNQVhfU0VBUkNIX0NPREVfUkFOR0UgJiYgaSA8IGVsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIHR4dCA9IGVsZXNbaSArIGluZGV4XS50ZXh0Q29udGVudDsKICAgICAgICAgICAgdmFyIGNvZGVSZWcgPSAv56CBLio/KFthLXpcZF0rKS9naTsKICAgICAgICAgICAgdmFyIGNvZGVNYXRjaCA9IGNvZGVSZWcuZXhlYyh0ZXh0KSAmJiBSZWdFeHAuJDE7CiAgICAgICAgICAgIGlmICghY29kZU1hdGNoKSBjb250aW51ZTsKICAgICAgICAgICAgdmFyIGxpbmtUZXN0UmVnID0gLyhodHRwcz86fFwuKG5ldHxjbnxjb218Z292fGNjfG1lKSkvZ2k7CiAgICAgICAgICAgIGlmIChsaW5rVGVzdFJlZy5leGVjKHR4dCkgJiYgbGlua1Rlc3RSZWcubGFzdEluZGV4IDw9IGNvZGVSZWcubGFzdEluZGV4KSB7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocnVsZS50ZXN0KGNvZGVNYXRjaCkpIHJldHVybiBjb2RlTWF0Y2g7CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfTsKICAgIHZhciBsaW5raWZ5ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGVsZXMgPSB0ZXh0Tm9kZXNVbmRlcihkb2N1bWVudC5ib2R5KTsKICAgICAgICB2YXIgZWxlLCB0eHQsIGxvb3BDb3VudDsKICAgICAgICB2YXIgcHJvY2Vzc29yID0gWwogICAgICAgICAgICBsaW5raWZ5VGV4dEJsb2NrQmFpZHUKICAgICAgICBdOwogICAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKGZ1bikgewogICAgICAgICAgICB2YXIgZGF0YSA9IGZ1bih0eHQsIGVsZXMsIGkgKyAxKTsKICAgICAgICAgICAgbG9vcENvdW50ICs9IGRhdGFbMF07CiAgICAgICAgICAgIHR4dCA9IGRhdGFbMV07CiAgICAgICAgfTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgZWxlID0gZWxlc1tpXTsKICAgICAgICAgICAgaWYgKGVsZS5wYXJlbnROb2RlLnRhZ05hbWUgPT0gJ2EnKSBjb250aW51ZTsKICAgICAgICAgICAgdHh0ID0gZWxlLnRleHRDb250ZW50OwogICAgICAgICAgICBsb29wQ291bnQgPSAwOwogICAgICAgICAgICBwcm9jZXNzb3IuZm9yRWFjaChjYWxsYmFjayk7CiAgICAgICAgICAgIGlmIChsb29wQ291bnQgPiAwKSB7CiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gdHh0OwogICAgICAgICAgICAgICAgZWxlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHNwYW4sIGVsZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdmFyIHRpbWVTdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgbGlua2lmeSgpOwogICAgdmFyIHRpbWVFbmQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgIGNvbnNvbGUubG9nKCJb572R55uY5o+Q5Y+W5bel5YW3XSDpk77mjqXlpITnkIblrozmiJDvvIzogJfml7bvvJoiICsgKHRpbWVFbmQgLSB0aW1lU3RhcnQpICsgIuavq+enki4g5aSE55CG5qih5byP77yaVEVYVE5PREXlpITnkIYiKTsKfSkoKTs="},{"name":"Easy offline","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http*://www.baidu.*","http*://www.google.*","http*://www.bing.*"],"orig_includes":["http*://*/*","http*://pan.baidu.com/*","http*://115.com/*","https://www.furk.net/*","https://www.seedr.cc/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1484058147385},"enabled":false,"position":7,"file_url":"https://greasyfork.org/scripts/22590-%E4%B8%80%E9%94%AE%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD/code/%E4%B8%80%E9%94%AE%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD.user.js","uuid":"8ec03493-e608-464e-b8c9-497c429e31fb","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBFYXN5IG9mZmxpbmUKLy8gQG5hbWU6emgtQ04gICDkuIDplK7nprvnur/kuIvovb0KLy8gQG5hbWU6emgtVFcgICDkuIDpjbXpm6LntqvkuIvovIkKLy8gQGRlc2NyaXB0aW9uICBCZSBlYXN5IHRvIGZpbmQgb3V0IGFsbCBtYWduZXQgbGlua3MgYW5kIHRvcnJlbnRzIGFuZCB2aWRlbyBsaW5rcyBpbiBjdXJyZW50IHBhZ2UsIGFuZCBzdHJlYW0gdGhlbSBmcm9tIGNsb3VkIHN0b3JhZ2UgYXV0b21hdGljYWxseS4KLy8gQGRlc2NyaXB0aW9uOnpoLUNOIOS4gOmUruiHquWKqOWwhuejgemTvuOAgWJ056eN5a2Q5oiW5YW25LuW5LiL6L296LWE5rqQ56a757q/5LiL6L296Iez572R55uYCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyDkuIDpjbXoh6rli5XlsIfno4Hpj4jjgIFidOeoruWtkOaIluWFtuS7luS4i+i8ieizh+a6kOmboue2q+S4i+i8ieiHs+e2suangwovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly90YW1wZXJtb25rZXkubmV0LwovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvanF1ZXJ5LzEuNy4yL2pxdWVyeS5taW4uanMKLy8gQHZlcnNpb24gICAgICAxLjAuNDIKLy8gQGF1dGhvciAgICAgICBIb290aGluCi8vIEBtYWlsICAgICAgICAgcml4aXhpQGdtYWlsLmNvbQovLyBAaW5jbHVkZSAgICAgIGh0dHAqOi8vKi8qCi8vIEBleGNsdWRlICAgICAgaHR0cCo6Ly93d3cuYmFpZHUuKgovLyBAZXhjbHVkZSAgICAgIGh0dHAqOi8vd3d3Lmdvb2dsZS4qCi8vIEBleGNsdWRlICAgICAgaHR0cCo6Ly93d3cuYmluZy4qCi8vIEBpbmNsdWRlICAgICAgaHR0cCo6Ly9wYW4uYmFpZHUuY29tLyoKLy8gQGluY2x1ZGUgICAgICBodHRwKjovLzExNS5jb20vKgovLyBAaW5jbHVkZSAgICAgIGh0dHBzOi8vd3d3LmZ1cmsubmV0LyoKLy8gQGluY2x1ZGUgICAgICBodHRwczovL3d3dy5zZWVkci5jYy8qCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGdyYW50ICAgICAgICBHTV9kZWxldGVWYWx1ZQovLyBAZ3JhbnQgICAgICAgIHVuc2FmZVdpbmRvdwovLyBAc3VwcG9ydFVSTCAgIGh0dHA6Ly93d3cuaG9vdGhpbi5jb20KLy8gQGxpY2Vuc2UgICAgICBNSVQgTGljZW5zZQovLyBAY29tcGF0aWJsZSAgICAgICAgY2hyb21lCi8vIEBjb21wYXRpYmxlICAgICAgICBmaXJlZm94Ci8vIEBjb250cmlidXRpb25VUkwgaHR0cHM6Ly93d3cucGF5cGFsLmNvbS9jZ2ktYmluL3dlYnNjcj9jbWQ9X2RvbmF0aW9ucyZidXNpbmVzcz1yaXhpeGlAc2luYS5jb20maXRlbV9uYW1lPUdyZWFzeStGb3JrK2RvbmF0aW9uCi8vIEBjb250cmlidXRpb25BbW91bnQgMQovLyA9PS9Vc2VyU2NyaXB0PT0KKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHNpdGVzPXsKICAgICAgICAwOnsKICAgICAgICAgICAgbmFtZToiYmFpZHUiLAogICAgICAgICAgICB1cmw6Imh0dHBzOi8vcGFuLmJhaWR1LmNvbS9kaXNrL2hvbWUiLAogICAgICAgICAgICBiZ0NvbG9yOiJmZmZmZmYiLAogICAgICAgICAgICBiZ0ltZzoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQmpGQk1WRVgvLy8vNysvdisvdi84L1B3eWYvd3pjL3cwYnZ6YTVmNHhmZno1Ky8vMCtQOHliUHo4L2Y0eWV2dzBjUHd6YS96MzkvY3dlL1V4ZGZ6U1B5cjQrdi8yK2YvbTcvNTNudjB2Zi93dmNlOXBvZjF0bFB3eGYvZ3pmUFl3ZVBQcDhmN1o1LzdTNHY3UDRQN0wzZjdJMmYyR3RmMlJyLzFoa1AweWQvMUZpUHd5Z2Z4QWRQeHNwZnRZa3ZVdGMvRGc2ZjdDMmY3RjFmNTRvUDFmbGYwL2hmd3NidTdpN2YvdzlmN2I1djdYNWY3VjR2Nm55djZveHY2andQNk5zLzJMc2YxL3J2MStvdjF6b2YxeG9mMTBuZjFqbS8xZGpQMHhlLzJOdWZ4YWx2eEhqL3hQaHZ4S2dQeEhmZncrZWZ3MGVQeVh1L21xeFBnNWhmaVR0dmR5by9kZ21mZE9qL2RCaGZWZmxmUXZlZlQrOWZPSXF2TXllZk5NaHZGSWdPOU1lZVB5eWNWalpiektiM0RhWlZhL1EwRHg5ZitCcC8xb2x2MWdrUHcwZHZ6ZzZQdTJ6UGswZ2ZsTmpQY3RjL2M5Z2ZYODgvSkpmTzNuMytuaTJ1bkh4dVNHa3ROcGR0QkpZOHBhYXNoUlc3MW5YcXA3WXB5RFlKS3BhSUtQVTMzQVZGWEFSa1RWVFR2RlFqclVQeXBLd0hxMUFBQUNBa2xFUVZRNHk0V1RCM09xUUJTRkYzQnBBaytLSUJpeEoycnMwZlRlZTY4dnZiemVlKzkvL08xQ2lvNDZucG1GUGZkOGQyY1k5Z0lBU01KSFVFU0RLRlFtQVpKQVVLQ0ZLRUxBL1dTcjNBM2QvdFpuQUY5OUM4ZlZIWWhpb3NieHhmbHNkcjdJMTVTSVdpQ2UzZXhBMnN6R213T0pYVGtVa3ZIYVRUUUQ5TnlCTE8vdDdPeko4a0ZPYndLczIvYlJkclN2TDdwOVpOdnJqUUMvbjgvbnduZ1h6dVh6KzN3REVENDJ6UzEzdTJXYXgrRUdRRCtwbWh2dWRzT3NudWoxZ0JBWlNwNSsvWFJJWWtNZVZ1MVh5YUdJY0Fmb3ljVk00UG4zcXg5dmNXM2dSVWNtRThnc0p2VWJvTmZ5ZUR5QndMZC82c1g3d3RObkM0NURENnZYQmJSeDFzT21yUSsvVkZYOWVmb21oRnpGc3RMb05hNDVRS3pDaWpNeC92WFpwYXIrL2ZLU1plY1dpandmbXhIWlNnekZGQmdXeFhRVUlKMzlVWDkvbmhQRm5nSHNvbWxSSEVZeFJZNm1sQ2tPbCs1ZlhwMnZyYVY2SWdDTG0xSlNveVFHeGhSbFVuQ0FpL1BVRXdYbldNS2tvb3hoQUl4QXVOU1BTKzgrUWdpN0dPQjN6dXRmZ25BRXhRU0lyMEpvTUp3MkdKU2doUExTbzRlREdzY1lFSzdHbmEvZ3k3UWtMUnZUSzVKRVAyYkFneTR2dlRKdExDTlg1aDBBTUxOZW12YmloZnFCdjN6alpwSERBQ0tNN250STNSTUZnRlNZY0ozQjNQMHNmNmt6R094TStBRndYQUs3a3VOdXJ6MnBjV1R0N2RldW5hL3Q0TFFkdmJiRDIzYjgvd1BZMFVUTzk5ZEQ1Z0FBQUFCSlJVNUVya0pnZ2c9PSIKICAgICAgICB9LAogICAgICAgIDE6ewogICAgICAgICAgICBuYW1lOiJwY2xvdWQiLAogICAgICAgICAgICB1cmw6Imh0dHBzOi8vbXkucGNsb3VkLmNvbS8iLAogICAgICAgICAgICBiZ0NvbG9yOiJmMWYxZjEiLAogICAgICAgICAgICBub01hZzp0cnVlLAogICAgICAgICAgICBub0VkMms6dHJ1ZSwKICAgICAgICAgICAgbm9GdHA6dHJ1ZSwKICAgICAgICAgICAgYmdJbWc6ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBTUFBQUFvTFE5VEFBQUFYVkJNVkVYLy8vLy8vLzhieXRULy8vOGZ5OVVieXRRYnl0UWZ5OVVmeTlVbXpOWWJ5dFFneTlVaXpOVWJ5dFQvLy84Ynl0UWV5OVVmeTlVZ3k5VkcxTnhCMDlzYnl0UmcydUZTMTk0Ynl0VC8vLzlHMU56eC9QemkrUHBUMTkrYzZPeFo3cnFYQUFBQUdIUlNUbE1CRy9BSHhZQWg0OU8zb1dKQk1SVVI0Yk9MWVY5UlF6OWZXNXpiQUFBQWJVbEVRVlFZMDQzTVJ4TENNQkJFMFdZa09RY3lYeWJjLzVoSWhVdXd3Mi8zdTJwR0cxV2RZVjFWdWpjeUc5Y2VXZG1jTThqREs4YkhFMExxQ3pNUUY1WTdOT25OZ2VFN01BVEJNUStmRS9xOXdDd05rRFVldFVBWlBMVnV4cSt6M0xXbHFFOU9jdE91bUZMLzlRWUNsd3Z0M05rRGtnQUFBQUJKUlU1RXJrSmdnZz09IgogICAgICAgIH0sCiAgICAgICAgMjp7CiAgICAgICAgICAgIG5hbWU6Inl5dyIsCiAgICAgICAgICAgIHVybDoiaHR0cDovLzExNS5jb20vP3RhYj1vZmZsaW5lJm1vZGU9d2FuZ3BhbiIsCiAgICAgICAgICAgIGJnQ29sb3I6IjIxNDU4YSIsCiAgICAgICAgICAgIGJnSW1nOiJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQU1BQUFBb0xROVRBQUFBU0ZCTVZFVWhSWXIvLy8rWHFjalYzT21Kbk1GVGI2UW9TNDVQYktMdThmYlo0T3ZCeTk1eGlMUmlmS3hiZHFsWGNxWXhVNVAzK1ByaDV1L08xdVhIMGVLNnhkdWtzODkvbEx0R1pKNHlzTWZoQUFBQVZVbEVRVlFZMDRXUFNRNkFNQXdENnlTa2RLSHM4UCtmY2t5RGhQQnRSb29qaHlHNEdQNkZFalB2eGhHWmlLS0pQTTd1b0FIWVNpZjBMZ2R3K3RwcFFmT0dJRjRJTHNlYTNDZXR2TWErVWFScStNaDcvZ1BreEFIRmg5V0RVUUFBQUFCSlJVNUVya0pnZ2c9PSIKICAgICAgICB9LAogICAgICAgIDM6ewogICAgICAgICAgICBuYW1lOiJmdXJrIiwKICAgICAgICAgICAgdXJsOiJodHRwczovL3d3dy5mdXJrLm5ldC91c2Vycy9maWxlcy9hZGQiLAogICAgICAgICAgICBiZ0NvbG9yOiJmMWYxZjEiLAogICAgICAgICAgICBoaWRlOmZhbHNlLAogICAgICAgICAgICBiZ0ltZzoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDNEFBQUF1Q0FNQUFBQmdaOXNGQUFBQWZsQk1WRVgvLy8rQ3V1YUd2K3JqWEtuaVRhaUR1K2QzdHVmaVhxL25VcXhBbjkrdDF2R2l6L0ZPbnQvc2o4bm9sOGJoY0xKUm85N2I3dnA1dU9wQ29lR1F3K20zMS9YVzYvZXIwKytJd2UzMzB1WlVwdUhzc05qbmk4VHFmNy9vOVBuNjhQU1V4KzczMmV1Y3l1dnp6dUpqcStIMHY5N3NtOHExMnZEdG84L3Jjcmp0ODMxVUFBQUJtVWxFUVZSSXgrMlQ2VzZETUJDRThkcjRhRWd3MEtTNWt6WkgyL2Qvd2U3YWxpSmxONktSK3JOamdZd1lmeHJ3dVByWFh3a2VhQzdiYTFucVU3WXJXZlY4M042cm05NUc3WkNXbE5uTDZLZmEyMHpCQTd0TkVsN0tTc2psNUluL3JzQk9ucUFydGZ4MUdHWFZHSDExMld3dXEyS25NTURwMm5uVXRhcXVPc3R0Y2hpazE1eWVMR1o2OHRwcDc0MDNlbFhvNHBabjVMZDN6cGcwM1ZXRmprT21lNTFrY0dqL251MXA3d0Y2UVBVMGNqS0RWSXlCUnJmYnRkcHRNNFhZcVlJb1NLUCtLSFEwNFgxN3dLZkRGOEpKWUpVdDljcXJWSDJzVU9nMGhKNEp1NXJOUlNXTUliOXI3MHVBNGEybFJSU3J4OXN0REY2bmU3dENyejEyWGJkZkxQYmRBaWNWQ2RGRXI1Z2RRR3EzMDZRdDZ3ejVnUjgxK3QydG1YSTZTYkxUNXN4NGdhMVlNZE5pZE0vc0FNUVhPbU9vQlZQeGVNaWRhYVV3RnNTamJWQmErTlMwUmR5ZXF1Z1lYUzBwamhTbWxlZ1djS3hmUmJybWRGQndqcEhiTWJsRVYrY1F3aURTblVCZkQ4UFFOTUR0VkJwT0gySVloalZJblpIb3NZa3hCaDdHR1pFZUdwUmcxNjFJYjBJVFFoVENNUHJ6K2dHMXNoRjRrb0hFVEFBQUFBQkpSVTVFcmtKZ2dnPT0iCiAgICAgICAgfSwKICAgICAgICA0OnsKICAgICAgICAgICAgbmFtZToic2VlZHIiLAogICAgICAgICAgICB1cmw6Imh0dHBzOi8vd3d3LnNlZWRyLmNjL2ZpbGVzIiwKICAgICAgICAgICAgYmdDb2xvcjoiY2EyYTE1IiwKICAgICAgICAgICAgaGlkZTpmYWxzZSwKICAgICAgICAgICAgYmdJbWc6ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBTUFBQUFvTFE5VEFBQUFsbEJNVkVYR0tCUEdLQlBHS0JQR0tCUE9SRExKTWgzdXY3blFURHZJTFJqcHJLUG1vWmpiZG1uTE95aktOU0h0dkxicnRLM29wcDNsbTVIaGo0VGFjMlhaYjJIWGFsdlVYRXpMT2liR0tCUEdLQlBHS0JQcXNhcmpsb3ZlaEhqWGFGblRXa3JNUUMzR0tCUEdLQlBHS0JQLy8vLzQ0K0g3N3UzMjNOajAxZEh4eWNQODh2SDY2K24yM2RyMDE5VHl6OHJ4ek1mdnc3M3Z3cnhZVmo5QkFBQUFKSFJTVGxQN3liK2orL3Y5Ky92OS9mMzcrLzM5L2YzOS9mMzkrL3V4bVNqOS9mMzcrL3VYTlIyR2Q5RTZBQUFBbVVsRVFWUVkwMDNOVnhLRE1BeEZVUVZzYkhxdjZZa01JVDM3MzF3RVpvRDdvWmwzZmdRWFk3UEthS0FDS245M0J4aXJ3YUFyV3NRWEg4RWNZWWVVdTRCbkRSQXNVS2dCV2paRGVxZmR1WEtHbUhiUFQzWWlKOWdpUHRqK3FVSldhdmdoeG9VU0hGeExBejNKSWdjQXlwc0dCekYzYkFKdkF2SEI1UGlWbm04SEdvQlpJZmZUVnZXTW9JSWhYNEtJTWc1d2hzYmNyS3F2ZjI5dURCY3UyK1NBQUFBQUFFbEZUa1N1UW1DQyIKICAgICAgICB9LAogICAgICAgIDU6ewogICAgICAgICAgICBuYW1lOiJ4dW5sZWkiLAogICAgICAgICAgICB1cmw6Imh0dHA6Ly9saXhpYW4udmlwLnh1bmxlaS5jb20vbGl4aWFuX2xvZ2luLmh0bWw/ZnVybD0iLAogICAgICAgICAgICBiZ0NvbG9yOiIyZTcxZjEiLAogICAgICAgICAgICBiZ0ltZzoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCa0FBQUFaQ0FNQUFBRHpOM1ZSQUFBQkMxQk1WRVVBQUFBcmNQVXNjUFFrYXZKU2Q3OVVkcmhUZHJsZWQ2a2phZTh1Y2ZBcWJPd29hKzBwYSt4VGQ3MVdkck5hZDYxZGVhNHBiTzR2Y3ZFc2IvQXFiZThzYnU4dWNmQXJidTh1Y2ZFcGJlMG9hKzR2Y1BILy8vNFpZZTdqOGZuZTdma25iUEFrYU80MWRmRGE2dmdjWSsvbzgvclY2UGNoWis0YlpPNzkvLzN1K2ZrbGF2SWlhTzhWWHUzeDkvM3Q5ZnZlN3ZlTHNmWXFjZlpOaHZFNWQvQWZaTzM2L2Z6MCsvcnkrdnJiNlByRzJ2blI1ZmJMNGZhWHVmYkczZldxeVBXancvV0VyUFdpeFBSNHBQUjBvdk9Jc2ZKc25QSllqKzlCZmUvMSt2M2w3ZjNwOFB6ZzdmcSswL21sdy9mWTYvYVF0UGFIcmZabmwvUzQxZk9SdC9LQXF2S1p2dkZKaE84ZVplNFJWQ3pGQUFBQUVYUlNUbE1BK1A3NGducHpXUDMyOU9yb2hYSmdYT1FWYUVjQUFBRk9TVVJCVkNqUFpjem5lb0l3R0liaHFOWHVFUU9SWUdJQlFYRHZ2YmZkZTV6L2tmU1RpMUt4OTc5OHovVUdJWFFRVXVKQlNpaUd3RG1FUFVrbEZJVkZEY0kvNGRvVnFpbFVDU0lGQXJkamxBeFFGRTFJcjQxRU1obEdsRktpRWVyUmhQRnkyOU8zYnlpeVVUY2N4OUhpVkJieFlZbTNqQUwxaWx5dlBsZXJobDF3Rm5lYzgzbVJ1b1VRU2dyMmxQUDdCbjNnMmRKTnRtNlRMU2dnVVh6TVpydGRYaTZYK2RDUi9RTEV0R1YxU3BabHRYdmZHdGt0NXFTZGNuWG1wbWxpdDhndWM1Szc5dlRISzBPQ2sxZWFxMXg2cTJMbFV1bkJVc1pRRWk1c2ozTVpNSnA5YkxDdXluQ0NqVXZYM3l1VnpLQlJGTHFLNFROdkErUWo4VFY3U2kxRTRoZVNmS1pZai9wVWx6eFFmRmpRdDJYUkwvaVBKRFhWejQzdHZSQm1PNlNtc2RhWlMwTjV6SFpuT3BNd1lOb0ppdVUxcHU1aitmd2hRdEdJeW5BUVV5TVhDRnllcW50RlBZUEZEMDk1UXg4eCtuN0NBQUFBQUVsRlRrU3VRbUNDIgogICAgICAgIH0sCiAgICB9OwogICAgdmFyIGVuYWJsZVVybCA9ICdhW2hyZWZePSJtYWduZXQiXSxbaHJlZl49ImVkMms6Ly98ZmlsZSJdLFtocmVmJD0iLnRvcnJlbnQiXSxbaHJlZiQ9Ii5tcDQiXSxbaHJlZiQ9Ii5yYXIiXSxbaHJlZiQ9Ii43eiJdLFtocmVmJD0iLnppcCJdLFtocmVmJD0iLnJtdmIiXSxbaHJlZiQ9Ii5ta3YiXSxbaHJlZiQ9Ii5hdmkiXSxbaHJlZiQ9Ii5pc28iXSc7CiAgICB2YXIgZGlzYWJsZVVybD1bIi50b3JyZW50a2l0dHkuIiwiYnQuYm94Lm4wODA4LmNvbSJdOwogICAgdmFyIGxhbmcgPSBuYXZpZ2F0b3IuYXBwTmFtZT09Ik5ldHNjYXBlIj9uYXZpZ2F0b3IubGFuZ3VhZ2U6bmF2aWdhdG9yLnVzZXJMYW5ndWFnZTsKICAgIHZhciBpMThuPXt9OwogICAgdmFyIHNob3dUeXBlPSEhR01fZ2V0VmFsdWUoInNob3dUeXBlIik7CiAgICAkPWpRdWVyeTsKICAgIHN3aXRjaCAobGFuZyl7CiAgICAgICAgY2FzZSAiemgtQ04iOgogICAgICAgICAgICBpMThuPXsKICAgICAgICAgICAgICAgIHRvZ2dsZToi5pi+56S65oiW6ZqQ6JeP5LiA6ZSu56a757q/5oyJ6ZKuIiwKICAgICAgICAgICAgICAgIHl5dzoiMTE1572R55uYIiwKICAgICAgICAgICAgICAgIGJhaWR1OiLnmb7luqbnvZHnm5giLAogICAgICAgICAgICAgICAgZnVyazoiRnVya+e9keebmCIsCiAgICAgICAgICAgICAgICBzZWVkcjoiU2VlZHLnvZHnm5giLAogICAgICAgICAgICAgICAgcGNsb3VkOiJQY2xvdWTnvZHnm5giLAogICAgICAgICAgICAgICAgeHVubGVpOiLov4Xpm7fnprvnur8iCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGkxOG49ewogICAgICAgICAgICAgICAgdG9nZ2xlOiJUb2dnbGUgdmlzaWJpbGl0eSBvZiBFYXN5T2ZmbGluZSIsCiAgICAgICAgICAgICAgICB5eXc6IjExNSIsCiAgICAgICAgICAgICAgICBiYWlkdToiQmFpZHVQYW4iLAogICAgICAgICAgICAgICAgZnVyazoiRnVyayIsCiAgICAgICAgICAgICAgICBzZWVkcjoiU2VlZHIiLAogICAgICAgICAgICAgICAgcGNsb3VkOiJQY2xvdWQiLAogICAgICAgICAgICAgICAgeHVubGVpOiJYdW5sZWkiCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwogICAgfQoKICAgIGZ1bmN0aW9uIGluY2x1ZGUodGhpbmdzLG9iaikgewogICAgICAgIGZvciAodmFyIGkgPSB0aGluZ3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgaWYgKCQodGhpbmdzW2ldKS5hdHRyKCdocmVmJyk9PT0kKG9iaikuYXR0cignaHJlZicpKXsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHNldENzcygpewogICAgICAgICQoJ2hlYWQnKS5hcHBlbmQoYAogICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgYS53aHgtYXsKICAgICAgICAgICAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOwogICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6NXB4OwogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOjIwcHg7CiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjUwJTsKICAgICAgICAgICAgICAgIGJvcmRlcjowcHg7CiAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7CiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOm1hcmdpbi10b3AgMC4yNXMgZWFzZTsKICAgICAgICAgICAgICAgIG91dGxpbmU6bm9uZSFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBwYWRkaW5nOjBweCFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBoZWlnaHQ6MjVweCFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICB3aWR0aDoyNXB4IWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGxlZnQ6MHB4IWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHRvcDowcHghaW1wb3J0YW50OwogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0IWltcG9ydGFudDsKICAgICAgICAgICAgfQogICAgICAgIDwvc3R5bGU+YCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0QWxsRW5hYmxlVXJsKCkgewogICAgICAgIGlmKEdNX2dldFZhbHVlKCdlb0Rpc2FibGVfJytkb2N1bWVudC5kb21haW4pKXJldHVybjsKICAgICAgICB2YXIgcGFyZW50RGl2PSQoIjxkaXYgc3R5bGU9J2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4Ojk5OTk5O292ZXJmbG93OnZpc2libGU7dGV4dC1hbGlnbjpsZWZ0Oyc+PC9kaXY+Iik7CiAgICAgICAgdmFyIHJhd25vZGVzID0gJChlbmFibGVVcmwpLmdldCgpLGN1c3RvbW5vZGVzPVtdOwogICAgICAgIHZhciBub2RlcyA9IFtdOwogICAgICAgIHZhciBpLHg7CiAgICAgICAgdmFyIGN1ck5vZGU7CiAgICAgICAgdmFyIG9mZlVybDsKICAgICAgICB2YXIgb2ZmTm9kZXM9W107CiAgICAgICAgdmFyIHJlZ3M9R01fZ2V0VmFsdWUoImVvUmVnIik7CiAgICAgICAgaWYocmVncyl7CiAgICAgICAgICAgIHZhciBhVGFncyA9ICQoImEiKS5nZXQoKTsKICAgICAgICAgICAgZm9yKHZhciBhVGFnIG9mIGFUYWdzKXsKICAgICAgICAgICAgICAgIGZvcih2YXIgcmVnIG9mIHJlZ3MpewogICAgICAgICAgICAgICAgICAgIHZhciBwYXR0PW5ldyBSZWdFeHAocmVnKTsKICAgICAgICAgICAgICAgICAgICBpZihwYXR0LnRlc3QoYVRhZy5ocmVmKSAmJiAkLmluQXJyYXkoYVRhZywgcmF3bm9kZXMpPT0tMSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbW5vZGVzLnB1c2goYVRhZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBoaWRlSWNvbnMoKXsKICAgICAgICAgICAgcGFyZW50RGl2LmNzcygiZGlzcGxheSIsIm5vbmUiKTsKICAgICAgICAgICAgZm9yKHZhciBub2RlIG9mIG9mZk5vZGVzKXsKICAgICAgICAgICAgICAgIG5vZGUuY3NzKCJtYXJnaW4tdG9wIiwiMHB4Iik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yKHggPSAwOyB4IDwgT2JqZWN0LmtleXMoc2l0ZXMpLmxlbmd0aDsgeCsrKXsKICAgICAgICAgICAgbGV0IG9mZk5vZGU9JCgiPGE+PC9hPiIpOwogICAgICAgICAgICBvZmZOb2RlLmFkZENsYXNzKCd3aHgtYScpLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLmNzcygibWFyZ2luLXRvcCIsIjBweCIpLmNzcygibWFyZ2luLWxlZnQiLCIwcHgiKS5hdHRyKCJ0YXJnZXQiLCJfYmxhbmsiKTsKICAgICAgICAgICAgbGV0IHNpdGVDb25maWc9c2l0ZXNbeF07CiAgICAgICAgICAgIG9mZk5vZGUuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwiIyIrc2l0ZUNvbmZpZy5iZ0NvbG9yKS5hdHRyKCJ0aXRsZSIsaTE4bltzaXRlQ29uZmlnLm5hbWVdICkuYXR0cigiaHJlZiIsIHNpdGVDb25maWcudXJsKTsKICAgICAgICAgICAgb2ZmTm9kZS5jbGljayhmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIGlmKHNpdGVDb25maWcubmFtZSE9Inh1bmxlaSIpR01fc2V0VmFsdWUoImVvVXJsIixnZXRSaWdodE1hZ25ldFVybChvZmZVcmwpKTsKICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZihzaXRlQ29uZmlnLmJnSW1nKW9mZk5vZGUuY3NzKCJiYWNrZ3JvdW5kLWltYWdlIiwidXJsKFwiIitzaXRlQ29uZmlnLmJnSW1nKyJcIikiKTsKICAgICAgICAgICAgLypzd2l0Y2goeCl7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG9mZk5vZGUuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwiI2UxZTFlMSIpLmF0dHIoInRpdGxlIixpMThuLmJhaWR1ICkuYXR0cigiaHJlZiIsICJodHRwOi8vcGFuLmJhaWR1LmNvbS9kaXNrL2hvbWUiKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICBvZmZOb2RlLmNzcygiYmFja2dyb3VuZC1jb2xvciIsIiNGNDQzMzYiKS5hdHRyKCJ0aXRsZSIsaTE4bi5zZWVkciApLmF0dHIoImhyZWYiLCAiaHR0cHM6Ly93d3cuc2VlZHIuY2MvZmlsZXMiKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBvZmZOb2RlLmNzcygiYmFja2dyb3VuZC1jb2xvciIsIiMzQkVCRkYiKS5hdHRyKCJ0aXRsZSIsaTE4bi5mdXJrICkuYXR0cigiaHJlZiIsICJodHRwczovL3d3dy5mdXJrLm5ldC91c2Vycy9maWxlcy9hZGQiKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBvZmZOb2RlLmNzcygiYmFja2dyb3VuZC1jb2xvciIsIiM1ZTVlZmYiKS5hdHRyKCJ0aXRsZSIsaTE4bi55eXcgKS5hdHRyKCJocmVmIiwgImh0dHA6Ly8xMTUuY29tLz90YWI9b2ZmbGluZSZtb2RlPXdhbmdwYW4iKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9Ki8KICAgICAgICAgICAgb2ZmTm9kZXMucHVzaChvZmZOb2RlKTsKICAgICAgICAgICAgaWYoc2l0ZUNvbmZpZy5oaWRlKWNvbnRpbnVlOwogICAgICAgICAgICBwYXJlbnREaXYucHJlcGVuZChvZmZOb2RlKTsKICAgICAgICB9CiAgICAgICAgcGFyZW50RGl2Lm1vdXNlb3ZlcihmdW5jdGlvbihlKXsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgaGlkZUljb25zKCk7CiAgICAgICAgfSk7CgogICAgICAgIGlmKHJhd25vZGVzLmxlbmd0aCA+IDApewogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmF3bm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjdXJOb2RlID0gcmF3bm9kZXNbaV07CiAgICAgICAgICAgICAgICBpZighL15tYWduZXR8XmVkMms6XC9cLy8udGVzdChjdXJOb2RlLmhyZWYpKXsKICAgICAgICAgICAgICAgICAgICBpZigvWyNcP118XC9cLlteXC5dKyQvLnRlc3QoY3VyTm9kZS5ocmVmKSljb250aW51ZTsKICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgZGlzYWJsZVVybC5sZW5ndGg7IGorKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZGlzYWJsZVVybFtqXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VyTm9kZS5ocmVmLmluZGV4T2YodGVtcCkhPS0xKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoZGlzYWJsZSljb250aW51ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKCFpbmNsdWRlKG5vZGVzLGN1ck5vZGUpKXsKICAgICAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKGN1ck5vZGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmKGN1c3RvbW5vZGVzLmxlbmd0aCA+IDApewogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY3VzdG9tbm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGN1ck5vZGUgPSBjdXN0b21ub2Rlc1tpXTsKICAgICAgICAgICAgICAgIGlmKCFpbmNsdWRlKG5vZGVzLGN1ck5vZGUpKXsKICAgICAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKGN1ck5vZGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZihub2Rlcy5sZW5ndGggPiAwKXsKICAgICAgICAgICAgJCgiYm9keSIpLmFwcGVuZChwYXJlbnREaXYpOwogICAgICAgICAgICB2YXIgY29kZUxpc3QgPSBbXTsKICAgICAgICAgICAgdmFyIGxpc3RMZW4gPSAwOwogICAgICAgICAgICBsaXN0TGVuID0gbm9kZXMubGVuZ3RoOwogICAgICAgICAgICBzZXRDc3MoKTsKICAgICAgICAgICAgaWYgKGxpc3RMZW4gIT09IDApIHsKICAgICAgICAgICAgICAgIHZhciBwcmVOb2RlOwogICAgICAgICAgICAgICAgaWYoc2hvd1R5cGUpewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJlTm9kZSlwcmVOb2RlLmhpZGUoMzAwKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0TGVuOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBjdXJOb2RlID0gbm9kZXNbaV07CiAgICAgICAgICAgICAgICAgICAgbGV0IGNsb25lPSQoIjxhPjwvYT4iKS5hdHRyKCJzdHlsZSIsY3VyTm9kZS5nZXRBdHRyaWJ1dGUoInN0eWxlIikpLmF0dHIoImhyZWYiLGN1ck5vZGUuZ2V0QXR0cmlidXRlKCJocmVmIikpLmFkZENsYXNzKCd3aHgtYScpLmNzcygiYmFja2dyb3VuZC1jb2xvciIsIiNlMWUxZTEiKS5jc3MoImJhY2tncm91bmQtaW1hZ2UiLCd1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmtBQUFBWkNBTUFBQUR6TjNWUkFBQUFSVkJNVkVVQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQURjNnVyM0FBQUFGblJTVGxNQVlNNXZNT0EvRU5HZWdLMm9sSTZHMWI5N1owc1hFTkErakFBQUFLRkpSRUZVS00rRmtsa1N4Q0FJUkhGZnNzM0svWTg2aVFTRFZxenBIN0ZmZ1FwQ1ZmQW1HeCtnbDlKSTBxcnhyY05Mem9vRWJLVUc0RUtXZGtDaURSVjBOMFJUclo1d3ZkZ1RUZ3A0U3pDQUh4QVBaa0FNNUdPSld1dVQ3RkU1T1ZQT0JGTFRZYjNPYzJZQjV1SjgrRzZwZ2tUR3Q3NG50Y0NKSGl3RkxIdzEwVGRjOTNqbEdYR3ZTUnRzSE5wdVBzKy9vMU9EZnhBdFNMMGY3SFBDK0wvOUFGNjBHM1F4TzFVYUFBQUFBRWxGVGtTdVFtQ0MiKScpOwogICAgICAgICAgICAgICAgICAgIGNsb25lLm1vdXNlb3ZlcihmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICAgICAgb2ZmVXJsPWNsb25lLmF0dHIoImhyZWYiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RGl2LmNzcygiZGlzcGxheSIsImJsb2NrIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXNlUG9zPWNsb25lLm9mZnNldCgpOwogICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnREaXYub2Zmc2V0KHt0b3A6YmFzZVBvcy50b3AsbGVmdDpiYXNlUG9zLmxlZnR9KTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGo9MDsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciB4PTA7eDxvZmZOb2Rlcy5sZW5ndGg7eCsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub2RlPW9mZk5vZGVzW3hdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoL15tYWduZXQvaS50ZXN0KG9mZlVybCkgJiYgc2l0ZXNbeF0ubm9NYWcpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoL15mdHAvaS50ZXN0KG9mZlVybCkgJiYgc2l0ZXNbeF0ubm9GdHApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoL15lZDJrOlwvXC8vaS50ZXN0KG9mZlVybCkgJiYgc2l0ZXNbeF0ubm9FZDJrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2hvdygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY3NzKCJtYXJnaW4tdG9wIiwtaioyNSsicHgiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqKys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2l0ZXNbeF0ubmFtZT09Inh1bmxlaSIpbm9kZS5hdHRyKCdocmVmJywgc2l0ZXNbeF0udXJsK29mZlVybCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAkKGN1ck5vZGUpLmFmdGVyKGNsb25lKTsKICAgICAgICAgICAgICAgICAgICBpZihzaG93VHlwZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgJChjdXJOb2RlKS5tb3VzZW92ZXIoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNsb25lLmlzKCc6aGlkZGVuJykpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHByZU5vZGUpcHJlTm9kZS5oaWRlKDMwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUuc2hvdyg1MDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZU5vZGU9Y2xvbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRSaWdodE1hZ25ldFVybCh1cmwpewogICAgICAgIHZhciBuZXdVcmwgPSB1cmw7CiAgICAgICAgaWYoL15tYWduZXQvLnRlc3QodXJsKSl7CiAgICAgICAgICAgIG5ld1VybD1uZXdVcmwuc3BsaXQoIiYiKVswXS5zdWJzdHJpbmcoMjApOwogICAgICAgICAgICBpZihuZXdVcmwubGVuZ3RoPT0zMil7CiAgICAgICAgICAgICAgICBuZXdVcmw9Im1hZ25ldDo/eHQ9dXJuOmJ0aWg6IiArIGJhc2UzMlRvSGV4KG5ld1VybCk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgbmV3VXJsPXVybDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbmV3VXJsOwogICAgfQoKICAgIHZhciBiMzIgPSB7J2EnOicwMDAwMCcsJ2InOicwMDAwMScsJ2MnOicwMDAxMCcsJ2QnOicwMDAxMScsJ2UnOicwMDEwMCcsJ2YnOicwMDEwMScsJ2cnOicwMDExMCcsJ2gnOicwMDExMScsJ2knOicwMTAwMCcsJ2onOicwMTAwMScsJ2snOicwMTAxMCcsJ2wnOicwMTAxMScsJ20nOicwMTEwMCcsJ24nOicwMTEwMScsJ28nOicwMTExMCcsJ3AnOicwMTExMScsJ3EnOicxMDAwMCcsJ3InOicxMDAwMScsJ3MnOicxMDAxMCcsJ3QnOicxMDAxMScsJ3UnOicxMDEwMCcsJ3YnOicxMDEwMScsJ3cnOicxMDExMCcsJ3gnOicxMDExMScsJ3knOicxMTAwMCcsJ3onOicxMTAwMScsJzInOicxMTAxMCcsJzMnOicxMTAxMScsJzQnOicxMTEwMCcsJzUnOicxMTEwMScsJzYnOicxMTExMCcsJzcnOicxMTExMSd9OwogICAgdmFyIGIxNiA9IHsnMDAwMCc6JzAnLCcwMDAxJzonMScsJzAwMTAnOicyJywnMDAxMSc6JzMnLCcwMTAwJzonNCcsJzAxMDEnOic1JywnMDExMCc6JzYnLCcwMTExJzonNycsJzEwMDAnOic4JywnMTAwMSc6JzknLCcxMDEwJzonYScsJzEwMTEnOidiJywnMTEwMCc6J2MnLCcxMTAxJzonZCcsJzExMTAnOidlJywnMTExMSc6J2YnfTsKICAgIGZ1bmN0aW9uIGJhc2UzMlRvSGV4KHN0cil7CiAgICAgICAgaWYoc3RyLmxlbmd0aCAlIDggIT09IDAgfHwgL1swMTg5XS50ZXN0KHN0cikvKXsKICAgICAgICAgICAgcmV0dXJuIHN0cjsKICAgICAgICB9CiAgICAgICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgdmFyIGJpbiA9ICAiIiwgcmV0dXJuU3RyID0gIiIsIGk7CiAgICAgICAgZm9yKGkgPSAwO2kgPCBzdHIubGVuZ3RoO2krKyl7CiAgICAgICAgICAgIGJpbiArPSBiMzJbc3RyLnN1YnN0cmluZyhpLGkrMSldOwogICAgICAgIH0KICAgICAgICBmb3IoaSA9IDA7aSA8IGJpbi5sZW5ndGg7aSs9NCl7CiAgICAgICAgICAgIHJldHVyblN0ciArPSBiMTZbYmluLnN1YnN0cmluZyhpLGkrNCldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmV0dXJuU3RyOwogICAgfQoKICAgIHZhciBpPTA7CiAgICB2YXIgdD13aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGN1cmxpbms7CiAgICAgICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigiZ2l0aHViLmNvbS9ob290aGluL1VzZXJTY3JpcHRzL3RyZWUvbWFzdGVyL0Vhc3klMjBvZmZsaW5lIikgIT0gLTEpewogICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0KTsKICAgICAgICAgICAgJCgnaGVhZCcpLmFwcGVuZChgCiAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgIC53aHgtYnRuewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IzM4OTJlZDsKICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgMC4yNXMgZWFzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC53aHgtYnRuOmhvdmVyewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IzgzYzFmZjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgPC9zdHlsZT5gKTsKICAgICAgICAgICAgdmFyIGNvbmZpZ0NvbnRlbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29uZmlnQ29udGVudCk7CiAgICAgICAgICAgIGNvbmZpZ0NvbnRlbnQub3V0ZXJIVE1MPWAKICAgICAgICAgICAgPGRpdiBpZD0iY29uZmlnQ29udGVudCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9IndpZHRoOjMwMHB4O2hlaWdodDozMDBweDtwb3NpdGlvbjpmaXhlZDtsZWZ0OjUwJTt0b3A6NTAlO21hcmdpbi10b3A6LTE1MHB4O21hcmdpbi1sZWZ0Oi0xNTBweDt6LWluZGV4OjEwMDAwMDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmY7Ym9yZGVyOjFweCBzb2xpZCAjYWZiM2I2O2JvcmRlci1yYWRpdXM6MTBweDtvcGFjaXR5OjAuOTU7ZmlsdGVyOmFscGhhKG9wYWNpdHk9OTUpO2JveC1zaGFkb3c6NXB4IDVweCAyMHB4IDBweCAjMDAwOyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOiAxMnB4O21hcmdpbi10b3A6IDI4cHg7Ij7oh6rlrprkuYnpnIDopoHlkK/nlKjkuIDplK7kuIvovb3nmoTpk77mjqXmraPliJnvvIzkuIDooYzkuIDmnaE8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9ImNvbmZpZ0lucHV0IiBwbGFjZWhvbGRlcj0i5L6L77yaaHR0cDouKlxcLnBocFxcP2dldFJlcz1cXGQrIiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDoyMHB4O3RvcDo1MHB4O3dpZHRoOjI2MHB4O2hlaWdodDoxNzBweCI+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6NjBweDt0b3A6MjI1cHg7Ij48aW5wdXQgaWQ9InNob3dUeXBlIiB0eXBlPSJjaGVja2JveCIvPuS7heW9k+m8oOagh+e7j+i/h+aXtuaYvuekuuWbvuaghzwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlnU2F2ZSIgY2xhc3M9IndoeC1idG4iIHR5cGU9ImJ1dHRvbiIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MTEwcHg7dG9wOjI2MHB4O3dpZHRoOjgwcHg7aGVpZ2h0OjMwcHg7Y29sb3I6d2hpdGU7Ym9yZGVyLXJhZGl1czo1cHg7Ym9yZGVyOjBweDtvdXRsaW5lOm5vbmU7Ij7orr7nva48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjb25maWdRdWl0IiBjbGFzcz0id2h4LWJ0biIgc3R5bGU9IndpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7Ym9yZGVyLXJhZGl1czoxNHB4O3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjJweDt0b3A6MnB4O2N1cnNvcjpwb2ludGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJoZWlnaHQ6MjhweDtsaW5lLWhlaWdodDoyOHB4O2Rpc3BsYXk6YmxvY2s7Y29sb3I6I0ZGRjt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MjBweDsiPuKVszwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj5gOwogICAgICAgICAgICB2YXIgY29uZmlnSW5wdXQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NvbmZpZ0lucHV0Iik7CiAgICAgICAgICAgIHZhciBjb25maWdRdWl0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjb25maWdRdWl0Iik7CiAgICAgICAgICAgIHZhciBjb25maWdTYXZlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjb25maWdTYXZlIik7CiAgICAgICAgICAgIHZhciBzaG93VHlwZUNoZWNrPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzaG93VHlwZSIpOwogICAgICAgICAgICBjb25maWdDb250ZW50PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjb25maWdDb250ZW50Iik7CiAgICAgICAgICAgIGNvbmZpZ0NvbnRlbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siOwogICAgICAgICAgICBpZihHTV9nZXRWYWx1ZSgiZW9SZWciKSkkKGNvbmZpZ0lucHV0KS52YWwoR01fZ2V0VmFsdWUoImVvUmVnIikuam9pbigiXG4iKSk7CiAgICAgICAgICAgIGlmKEdNX2dldFZhbHVlKCJzaG93VHlwZSIpKXNob3dUeXBlQ2hlY2suY2hlY2tlZD10cnVlOwogICAgICAgICAgICAkKGNvbmZpZ1F1aXQpLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge2NvbmZpZ0NvbnRlbnQuc3R5bGUuZGlzcGxheT0ibm9uZSI7fSk7CiAgICAgICAgICAgICQoY29uZmlnU2F2ZSkuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgICB2YXIgcmVnU3RyPSQoY29uZmlnSW5wdXQpLnZhbCgpOwogICAgICAgICAgICAgICAgdmFyIHJlZ1N0cnM9cmVnU3RyLnNwbGl0KCJcbiIpOwogICAgICAgICAgICAgICAgZm9yKHZhciByZWcgb2YgcmVnU3Rycyl7CiAgICAgICAgICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKHJlZyk7CiAgICAgICAgICAgICAgICAgICAgfWNhdGNoKGUpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgi5ZCr5pyJ5peg5pWI5q2j5YiZ77yM6K+36YeN5paw6L6T5YWlIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSgiZW9SZWciLHJlZ1N0cnMpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoInNob3dUeXBlIiwgc2hvd1R5cGVDaGVjay5jaGVja2VkKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCLorr7nva7miJDlip8iKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfWVsc2UgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigiZnVyay5uZXQvdXNlcnMvZmlsZXMvYWRkIikgIT0gLTEpewogICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0KTsKICAgICAgICAgICAgY3VybGluayA9IEdNX2dldFZhbHVlKCdlb1VybCcpOwogICAgICAgICAgICBpZihjdXJsaW5rKXsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI3VybCcpLnZhbChjdXJsaW5rKTsKICAgICAgICAgICAgICAgICAgICBHTV9kZWxldGVWYWx1ZSgnZW9VcmwnKTsKICAgICAgICAgICAgICAgICAgICAkKCI6c3VibWl0W3ZhbHVlPSdBZGQgZG93bmxvYWQnXSIpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfWVsc2UgaWYobG9jYXRpb24uaHJlZi5pbmRleE9mKCJzZWVkci5jYy9maWxlcyIpICE9IC0xKXsKICAgICAgICAgICAgaWYoJCgnI3VwbG9hZC1idXR0b24nKS5jc3MoImRpc3BsYXkiKSAhPSAibm9uZSIpewogICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodCk7CiAgICAgICAgICAgICAgICBjdXJsaW5rID0gR01fZ2V0VmFsdWUoJ2VvVXJsJyk7CiAgICAgICAgICAgICAgICBpZihjdXJsaW5rKXsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCc6dGV4dFtuYW1lPSJ0b3JyZW50Il0nKS52YWwoY3VybGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlKCdlb1VybCcpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCcjdXBsb2FkLWJ1dHRvbicpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH1lbHNlIGlmKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigicGFuLmJhaWR1LmNvbS9kaXNrL2hvbWUiKSAhPSAtMSl7CiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHQpOwogICAgICAgICAgICBjdXJsaW5rID0gR01fZ2V0VmFsdWUoJ2VvVXJsJyk7CiAgICAgICAgICAgIGlmKGN1cmxpbmspewogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmctYnV0dG9uW2RhdGEtYnV0dG9uLWlkPWIxM10nKS5jbGljaygpOwogICAgICAgICAgICAgICAgdmFyIGJzaSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBuZXdUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI19kaXNrX2lkXzInKTsKICAgICAgICAgICAgICAgICAgICBpZihuZXdUYXNrQnRuKXsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChic2kpOwogICAgICAgICAgICAgICAgICAgICAgICBuZXdUYXNrQnRuLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBic2wgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvZmZMaW5rPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaGFyZS1vZmZsaW5lLWxpbmsnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9mZkxpbmspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYnNsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZMaW5rLnZhbHVlID0gY3VybGluazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjbmV3b2ZmbGluZS1kaWFsb2c+LmRpYWxvZy1mb290ZXI+LmctYnV0dG9uJylbMV0uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigvXm1hZ25ldHx0b3JyZW50JC8udGVzdChjdXJsaW5rKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGk9MCwgYnNiID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidExpc3Q9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI29mZmxpbmVidGxpc3QtZGlhbG9nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigrK2k+NTAgfHwgKGJ0TGlzdCAmJiBidExpc3Quc3R5bGUuZGlzcGxheSE9Im5vbmUiKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChic2IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0TGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcuZGlhbG9nLWZvb3Rlcj4uZy1idXR0b24nKVsxXS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgICBHTV9kZWxldGVWYWx1ZSgnZW9VcmwnKTsKICAgICAgICAgICAgfQogICAgICAgIH1lbHNlIGlmKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigiMTE1LmNvbS8/dGFiPW9mZmxpbmUmbW9kZT13YW5ncGFuIikgIT0gLTEpewogICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0KTsKICAgICAgICAgICAgY3VybGluayA9IEdNX2dldFZhbHVlKCdlb1VybCcpOwogICAgICAgICAgICBpZihjdXJsaW5rKXsKICAgICAgICAgICAgICAgIHZhciByc2MgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocnNjKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvcmVbJ09GRkw1UGx1ZyddLk9wZW5MaW5rKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNqc19vZmZsaW5lX25ld19hZGQnKS52YWwoY3VybGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCA0MDApOwogICAgICAgICAgICAgICAgR01fZGVsZXRlVmFsdWUoJ2VvVXJsJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9ZWxzZSBpZihsb2NhdGlvbi5ocmVmLmluZGV4T2YoIm15LnBjbG91ZC5jb20iKSAhPSAtMSl7CiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHQpOwogICAgICAgICAgICBjdXJsaW5rID0gR01fZ2V0VmFsdWUoJ2VvVXJsJyk7CiAgICAgICAgICAgIGlmKGN1cmxpbmspewogICAgICAgICAgICAgICAgdmFyIHBzYyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHZhciB1cEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi51cGxvYWRfYnV0dG9uJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVwQnRuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocHNjKTsKICAgICAgICAgICAgICAgICAgICAgICAgdXBCdG4uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi5yZW1vdGV1cGxvYWQtY3RybCcpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1vdGVhcmVhPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhLnJlbW90ZWFyZWEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlYXJlYS52YWx1ZT1jdXJsaW5rOwogICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVhcmVhLm5leHRTaWJsaW5nLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlKCdlb1VybCcpOwogICAgICAgICAgICB9CiAgICAgICAgfWVsc2UgaWYoaSA+IDIgfHwgKChpKyspID09PSAwICYmICQoZW5hYmxlVXJsKS5sZW5ndGggPiAwKSl7CiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHQpOwogICAgICAgICAgICBnZXRBbGxFbmFibGVVcmwoKTsKICAgICAgICB9CiAgICB9LCA1MDApOwogICAgaWYoL3BhblwuYmFpZHVcLmNvbVwvd2FwXC9ob21lLy50ZXN0KGxvY2F0aW9uLmhyZWYpICYmIEdNX2dldFZhbHVlKCdlb1VybCcpKXsKICAgICAgICBsb2NhdGlvbi5ocmVmPSJodHRwczovL3Bhbi5iYWlkdS5jb20vZGlzay9ob21lIjsKICAgIH0KICAgIGZ1bmN0aW9uIHRvZ2dsZUljb24oKXsKICAgICAgICAkKCcud2h4LWEnKS50b2dnbGUoNTAwKTsKICAgICAgICBpZihHTV9nZXRWYWx1ZSgnZW9EaXNhYmxlXycrZG9jdW1lbnQuZG9tYWluKSl7CiAgICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlKCdlb0Rpc2FibGVfJytkb2N1bWVudC5kb21haW4pOwogICAgICAgICAgICBpZigkKCcud2h4LWEnKS5sZW5ndGg8MSlnZXRBbGxFbmFibGVVcmwoKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgR01fc2V0VmFsdWUoJ2VvRGlzYWJsZV8nK2RvY3VtZW50LmRvbWFpbix0cnVlKTsKICAgICAgICB9CiAgICB9CiAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGkxOG4udG9nZ2xlLCB0b2dnbGVJY29uKTsKfSkoKTs="}]}